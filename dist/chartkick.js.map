{"version":3,"file":"chartkick.js","sources":["../src/helpers.js","../src/adapters/chartjs.js","../src/adapters/highcharts.js","../src/adapters/google.js","../src/request-queue.js","../src/index.js"],"sourcesContent":["function isArray(variable) {\n  return Object.prototype.toString.call(variable) === \"[object Array]\";\n}\n\nfunction isFunction(variable) {\n  return variable instanceof Function;\n}\n\nfunction isPlainObject(variable) {\n  return !isFunction(variable) && variable instanceof Object;\n}\n\n// https://github.com/madrobby/zepto/blob/master/src/zepto.js\nfunction extend(target, source) {\n  let key;\n  for (key in source) {\n    if (isPlainObject(source[key]) || isArray(source[key])) {\n      if (isPlainObject(source[key]) && !isPlainObject(target[key])) {\n        target[key] = {};\n      }\n      if (isArray(source[key]) && !isArray(target[key])) {\n        target[key] = [];\n      }\n      extend(target[key], source[key]);\n    } else if (source[key] !== undefined) {\n      target[key] = source[key];\n    }\n  }\n}\n\nfunction merge(obj1, obj2) {\n  let target = {};\n  extend(target, obj1);\n  extend(target, obj2);\n  return target;\n}\n\nlet DATE_PATTERN = /^(\\d\\d\\d\\d)(-)?(\\d\\d)(-)?(\\d\\d)$/i;\n\n// https://github.com/Do/iso8601.js\nlet ISO8601_PATTERN = /(\\d\\d\\d\\d)(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)?(:)?(\\d\\d)?([.,]\\d+)?($|Z|([+-])(\\d\\d)(:)?(\\d\\d)?)/i;\nlet DECIMAL_SEPARATOR = String(1.5).charAt(1);\n\nfunction parseISO8601(input) {\n  let day, hour, matches, milliseconds, minutes, month, offset, result, seconds, type, year;\n  type = Object.prototype.toString.call(input);\n  if (type === \"[object Date]\") {\n    return input;\n  }\n  if (type !== \"[object String]\") {\n    return;\n  }\n  matches = input.match(ISO8601_PATTERN);\n  if (matches) {\n    year = parseInt(matches[1], 10);\n    month = parseInt(matches[3], 10) - 1;\n    day = parseInt(matches[5], 10);\n    hour = parseInt(matches[7], 10);\n    minutes = matches[9] ? parseInt(matches[9], 10) : 0;\n    seconds = matches[11] ? parseInt(matches[11], 10) : 0;\n    milliseconds = matches[12] ? parseFloat(DECIMAL_SEPARATOR + matches[12].slice(1)) * 1000 : 0;\n    result = Date.UTC(year, month, day, hour, minutes, seconds, milliseconds);\n    if (matches[13] && matches[14]) {\n      offset = matches[15] * 60;\n      if (matches[17]) {\n        offset += parseInt(matches[17], 10);\n      }\n      offset *= matches[14] === \"-\" ? -1 : 1;\n      result -= offset * 60 * 1000;\n    }\n    return new Date(result);\n  }\n}\n// end iso8601.js\n\nfunction negativeValues(series) {\n  let i, j, data;\n  for (i = 0; i < series.length; i++) {\n    data = series[i].data;\n    for (j = 0; j < data.length; j++) {\n      if (data[j][1] < 0) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction toStr(n) {\n  return \"\" + n;\n}\n\nfunction toFloat(n) {\n  return parseFloat(n);\n}\n\nfunction toDate(n) {\n  let matches, year, month, day;\n  if (typeof n !== \"object\") {\n    if (typeof n === \"number\") {\n      n = new Date(n * 1000); // ms\n    } else {\n      n = toStr(n);\n      if ((matches = n.match(DATE_PATTERN))) {\n      year = parseInt(matches[1], 10);\n      month = parseInt(matches[3], 10) - 1;\n      day = parseInt(matches[5], 10);\n      return new Date(year, month, day);\n      } else { // str\n        // try our best to get the str into iso8601\n        // TODO be smarter about this\n        let str = n.replace(/ /, \"T\").replace(\" \", \"\").replace(\"UTC\", \"Z\");\n        n = parseISO8601(str) || new Date(n);\n      }\n    }\n  }\n  return n;\n}\n\nfunction toArr(n) {\n  if (!isArray(n)) {\n    let arr = [], i;\n    for (i in n) {\n      if (n.hasOwnProperty(i)) {\n        arr.push([i, n[i]]);\n      }\n    }\n    n = arr;\n  }\n  return n;\n}\n\nfunction jsOptionsFunc(defaultOptions, hideLegend, setTitle, setMin, setMax, setStacked, setXtitle, setYtitle) {\n  return function (chart, opts, chartOptions) {\n    let series = chart.data;\n    let options = merge({}, defaultOptions);\n    options = merge(options, chartOptions || {});\n\n    if (chart.hideLegend || \"legend\" in opts) {\n      hideLegend(options, opts.legend, chart.hideLegend);\n    }\n\n    if (opts.title) {\n      setTitle(options, opts.title);\n    }\n\n    // min\n    if (\"min\" in opts) {\n      setMin(options, opts.min);\n    } else if (!negativeValues(series)) {\n      setMin(options, 0);\n    }\n\n    // max\n    if (opts.max) {\n      setMax(options, opts.max);\n    }\n\n    if (\"stacked\" in opts) {\n      setStacked(options, opts.stacked);\n    }\n\n    if (opts.colors) {\n      options.colors = opts.colors;\n    }\n\n    if (opts.xtitle) {\n      setXtitle(options, opts.xtitle);\n    }\n\n    if (opts.ytitle) {\n      setYtitle(options, opts.ytitle);\n    }\n\n    // merge library last\n    options = merge(options, opts.library || {});\n\n    return options;\n  };\n}\n\nfunction sortByTime(a, b) {\n  return a[0].getTime() - b[0].getTime();\n}\n\nfunction sortByNumberSeries(a, b) {\n  return a[0] - b[0];\n}\n\nfunction sortByNumber(a, b) {\n  return a - b;\n}\n\nfunction isMinute(d) {\n  return d.getMilliseconds() === 0 && d.getSeconds() === 0;\n}\n\nfunction isHour(d) {\n  return isMinute(d) && d.getMinutes() === 0;\n}\n\nfunction isDay(d) {\n  return isHour(d) && d.getHours() === 0;\n}\n\nfunction isWeek(d, dayOfWeek) {\n  return isDay(d) && d.getDay() === dayOfWeek;\n}\n\nfunction isMonth(d) {\n  return isDay(d) && d.getDate() === 1;\n}\n\nfunction isYear(d) {\n  return isMonth(d) && d.getMonth() === 0;\n}\n\nfunction isDate(obj) {\n  return !isNaN(toDate(obj)) && toStr(obj).length >= 6;\n}\n\nfunction formatValue(pre, value, options) {\n  pre = pre || \"\";\n  if (options.prefix) {\n    if (value < 0) {\n      value = value * -1;\n      pre += \"-\";\n    }\n    pre += options.prefix;\n  }\n\n  if (options.thousands || options.decimal) {\n    value = toStr(value);\n    let parts = value.split(\".\");\n    value = parts[0];\n    if (options.thousands) {\n      value = value.replace(/\\B(?=(\\d{3})+(?!\\d))/g, options.thousands);\n    }\n    if (parts.length > 1) {\n      value += (options.decimal || \".\") + parts[1];\n    }\n  }\n\n  return pre + value + (options.suffix || \"\");\n}\n\nexport { formatValue, jsOptionsFunc, merge, isArray, isFunction, toStr, toFloat, toDate, toArr, sortByTime, sortByNumberSeries, sortByNumber, isMinute, isHour, isDay, isWeek, isMonth, isYear, isDate };\n","import { formatValue, jsOptionsFunc, merge, isArray, toStr, toFloat, sortByNumber, isMinute, isHour, isDay, isWeek, isMonth, isYear } from \"../helpers\";\n\nfunction allZeros(data) {\n  let i, j, d;\n  for (i = 0; i < data.length; i++) {\n    d = data[i].data;\n    for (j = 0; j < d.length; j++) {\n      if (d[j][1] != 0) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nlet baseOptions = {\n  maintainAspectRatio: false,\n  animation: false,\n  tooltips: {\n    displayColors: false,\n    callbacks: {}\n  },\n  legend: {},\n  title: {fontSize: 20, fontColor: \"#333\"}\n};\n\nlet defaultOptions = {\n  scales: {\n    yAxes: [\n      {\n        ticks: {\n          maxTicksLimit: 4\n        },\n        scaleLabel: {\n          fontSize: 16,\n          // fontStyle: \"bold\",\n          fontColor: \"#333\"\n        }\n      }\n    ],\n    xAxes: [\n      {\n        gridLines: {\n          drawOnChartArea: false\n        },\n        scaleLabel: {\n          fontSize: 16,\n          // fontStyle: \"bold\",\n          fontColor: \"#333\"\n        },\n        time: {},\n        ticks: {}\n      }\n    ]\n  }\n};\n\n// http://there4.io/2012/05/02/google-chart-color-list/\nlet defaultColors = [\n  \"#3366CC\", \"#DC3912\", \"#FF9900\", \"#109618\", \"#990099\", \"#3B3EAC\", \"#0099C6\",\n  \"#DD4477\", \"#66AA00\", \"#B82E2E\", \"#316395\", \"#994499\", \"#22AA99\", \"#AAAA11\",\n  \"#6633CC\", \"#E67300\", \"#8B0707\", \"#329262\", \"#5574A6\", \"#651067\"\n];\n\nlet hideLegend = function (options, legend, hideLegend) {\n  if (legend !== undefined) {\n    options.legend.display = !!legend;\n    if (legend && legend !== true) {\n      options.legend.position = legend;\n    }\n  } else if (hideLegend) {\n    options.legend.display = false;\n  }\n};\n\nlet setTitle = function (options, title) {\n  options.title.display = true;\n  options.title.text = title;\n};\n\nlet setMin = function (options, min) {\n  if (min !== null) {\n    options.scales.yAxes[0].ticks.min = toFloat(min);\n  }\n};\n\nlet setMax = function (options, max) {\n  options.scales.yAxes[0].ticks.max = toFloat(max);\n};\n\nlet setBarMin = function (options, min) {\n  if (min !== null) {\n    options.scales.xAxes[0].ticks.min = toFloat(min);\n  }\n};\n\nlet setBarMax = function (options, max) {\n  options.scales.xAxes[0].ticks.max = toFloat(max);\n};\n\nlet setStacked = function (options, stacked) {\n  options.scales.xAxes[0].stacked = !!stacked;\n  options.scales.yAxes[0].stacked = !!stacked;\n};\n\nlet setXtitle = function (options, title) {\n  options.scales.xAxes[0].scaleLabel.display = true;\n  options.scales.xAxes[0].scaleLabel.labelString = title;\n};\n\nlet setYtitle = function (options, title) {\n  options.scales.yAxes[0].scaleLabel.display = true;\n  options.scales.yAxes[0].scaleLabel.labelString = title;\n};\n\n// http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\nlet addOpacity = function(hex, opacity) {\n  let result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? \"rgba(\" + parseInt(result[1], 16) + \", \" + parseInt(result[2], 16) + \", \" + parseInt(result[3], 16) + \", \" + opacity + \")\" : hex;\n};\n\nlet setLabelSize = function (chart, data, options) {\n  let maxLabelSize = Math.ceil(chart.element.offsetWidth / 4.0 / data.labels.length);\n  if (maxLabelSize > 25) {\n    maxLabelSize = 25;\n  }\n  options.scales.xAxes[0].ticks.callback = function (value) {\n    value = toStr(value);\n    if (value.length > maxLabelSize) {\n      return value.substring(0, maxLabelSize - 2) + \"...\";\n    } else {\n      return value;\n    }\n  };\n};\n\nlet setFormatOptions = function(chart, options, chartType) {\n  let formatOptions = {\n    prefix: chart.options.prefix,\n    suffix: chart.options.suffix,\n    thousands: chart.options.thousands,\n    decimal: chart.options.decimal\n  };\n\n  if (formatOptions.prefix || formatOptions.suffix || formatOptions.thousands || formatOptions.decimal) {\n    if (chartType !== \"pie\") {\n      let myAxes = options.scales.yAxes;\n      if (chartType === \"bar\") {\n        myAxes = options.scales.xAxes;\n      }\n\n      if (!myAxes[0].ticks.callback) {\n        myAxes[0].ticks.callback = function (value) {\n          return formatValue(\"\", value, formatOptions);\n        };\n      }\n    }\n\n    if (!options.tooltips.callbacks.label) {\n      if (chartType !== \"pie\") {\n        let valueLabel = chartType === \"bar\" ? \"xLabel\" : \"yLabel\";\n        options.tooltips.callbacks.label = function (tooltipItem, data) {\n          let label = data.datasets[tooltipItem.datasetIndex].label || '';\n          if (label) {\n            label += ': ';\n          }\n          return formatValue(label, tooltipItem[valueLabel], formatOptions);\n        };\n      } else {\n        // need to use separate label for pie charts\n        options.tooltips.callbacks.label = function (tooltipItem, data) {\n          let dataLabel = data.labels[tooltipItem.index];\n          let value = ': ';\n\n          if (isArray(dataLabel)) {\n            // show value on first line of multiline label\n            // need to clone because we are changing the value\n            dataLabel = dataLabel.slice();\n            dataLabel[0] += value;\n          } else {\n            dataLabel += value;\n          }\n\n          return formatValue(dataLabel, data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index], formatOptions);\n        };\n      }\n    }\n  }\n};\n\nlet jsOptions = jsOptionsFunc(merge(baseOptions, defaultOptions), hideLegend, setTitle, setMin, setMax, setStacked, setXtitle, setYtitle);\n\nlet createDataTable = function (chart, options, chartType) {\n  let datasets = [];\n  let labels = [];\n\n  let colors = chart.options.colors || defaultColors;\n\n  let day = true;\n  let week = true;\n  let dayOfWeek;\n  let month = true;\n  let year = true;\n  let hour = true;\n  let minute = true;\n  let detectType = (chartType === \"line\" || chartType === \"area\") && !chart.discrete;\n\n  let series = chart.data;\n\n  let sortedLabels = [];\n\n  let i, j, s, d, key, rows = [];\n  for (i = 0; i < series.length; i++) {\n    s = series[i];\n\n    for (j = 0; j < s.data.length; j++) {\n      d = s.data[j];\n      key = detectType ? d[0].getTime() : d[0];\n      if (!rows[key]) {\n        rows[key] = new Array(series.length);\n      }\n      rows[key][i] = toFloat(d[1]);\n      if (sortedLabels.indexOf(key) === -1) {\n        sortedLabels.push(key);\n      }\n    }\n  }\n\n  if (detectType || chart.options.xtype === \"number\") {\n    sortedLabels.sort(sortByNumber);\n  }\n\n  let rows2 = [];\n  for (j = 0; j < series.length; j++) {\n    rows2.push([]);\n  }\n\n  let value;\n  let k;\n  for (k = 0; k < sortedLabels.length; k++) {\n    i = sortedLabels[k];\n    if (detectType) {\n      value = new Date(toFloat(i));\n      // TODO make this efficient\n      day = day && isDay(value);\n      if (!dayOfWeek) {\n        dayOfWeek = value.getDay();\n      }\n      week = week && isWeek(value, dayOfWeek);\n      month = month && isMonth(value);\n      year = year && isYear(value);\n      hour = hour && isHour(value);\n      minute = minute && isMinute(value);\n    } else {\n      value = i;\n    }\n    labels.push(value);\n    for (j = 0; j < series.length; j++) {\n      // Chart.js doesn't like undefined\n      rows2[j].push(rows[i][j] === undefined ? null : rows[i][j]);\n    }\n  }\n\n  for (i = 0; i < series.length; i++) {\n    s = series[i];\n\n    let color = s.color || colors[i];\n    let backgroundColor = chartType !== \"line\" ? addOpacity(color, 0.5) : color;\n\n    let dataset = {\n      label: s.name,\n      data: rows2[i],\n      fill: chartType === \"area\",\n      borderColor: color,\n      backgroundColor: backgroundColor,\n      pointBackgroundColor: color,\n      pointHoverBackgroundColor: color,\n      borderWidth: 2\n    };\n\n    if (s.stack) {\n      dataset.stack = s.stack;\n    }\n\n    if (chart.options.curve === false) {\n      dataset.lineTension = 0;\n    }\n\n    if (chart.options.points === false) {\n      dataset.pointRadius = 0;\n      dataset.pointHitRadius = 5;\n    }\n\n    dataset = merge(dataset, chart.options.dataset || {});\n    dataset = merge(dataset, s.library || {});\n    dataset = merge(dataset, s.dataset || {});\n\n    datasets.push(dataset);\n  }\n\n  if (detectType && labels.length > 0) {\n    let minTime = labels[0].getTime();\n    let maxTime = labels[0].getTime();\n    for (i = 1; i < labels.length; i++) {\n      value = labels[i].getTime();\n      if (value < minTime) {\n        minTime = value;\n      }\n      if (value > maxTime) {\n        maxTime = value;\n      }\n    }\n\n    let timeDiff = (maxTime - minTime) / (86400 * 1000.0);\n\n    if (!options.scales.xAxes[0].time.unit) {\n      let step;\n      if (year || timeDiff > 365 * 10) {\n        options.scales.xAxes[0].time.unit = \"year\";\n        step = 365;\n      } else if (month || timeDiff > 30 * 10) {\n        options.scales.xAxes[0].time.unit = \"month\";\n        step = 30;\n      } else if (day || timeDiff > 10) {\n        options.scales.xAxes[0].time.unit = \"day\";\n        step = 1;\n      } else if (hour || timeDiff > 0.5) {\n        options.scales.xAxes[0].time.displayFormats = {hour: \"MMM D, h a\"};\n        options.scales.xAxes[0].time.unit = \"hour\";\n        step = 1 / 24.0;\n      } else if (minute) {\n        options.scales.xAxes[0].time.displayFormats = {minute: \"h:mm a\"};\n        options.scales.xAxes[0].time.unit = \"minute\";\n        step = 1 / 24.0 / 60.0;\n      }\n\n      if (step && timeDiff > 0) {\n        let unitStepSize = Math.ceil(timeDiff / step / (chart.element.offsetWidth / 100.0));\n        if (week && step === 1) {\n          unitStepSize = Math.ceil(unitStepSize / 7.0) * 7;\n        }\n        options.scales.xAxes[0].time.unitStepSize = unitStepSize;\n      }\n    }\n\n    if (!options.scales.xAxes[0].time.tooltipFormat) {\n      if (day) {\n        options.scales.xAxes[0].time.tooltipFormat = \"ll\";\n      } else if (hour) {\n        options.scales.xAxes[0].time.tooltipFormat = \"MMM D, h a\";\n      } else if (minute) {\n        options.scales.xAxes[0].time.tooltipFormat = \"h:mm a\";\n      }\n    }\n  }\n\n  let data = {\n    labels: labels,\n    datasets: datasets\n  };\n\n  return data;\n};\n\nexport default class {\n  constructor(library) {\n    this.name = \"chartjs\";\n    this.library = library;\n  }\n\n  renderLineChart(chart, chartType) {\n    if (chart.options.xtype === \"number\") {\n      return this.renderScatterChart(chart, chartType, true);\n    }\n\n    let chartOptions = {};\n    if (chartType === \"area\") {\n      // TODO fix area stacked\n      // chartOptions.stacked = true;\n    }\n    // fix for https://github.com/chartjs/Chart.js/issues/2441\n    if (!chart.options.max && allZeros(chart.data)) {\n      chartOptions.max = 1;\n    }\n\n    let options = jsOptions(chart, merge(chartOptions, chart.options));\n    setFormatOptions(chart, options, chartType);\n\n    let data = createDataTable(chart, options, chartType || \"line\");\n\n    options.scales.xAxes[0].type = chart.discrete ? \"category\" : \"time\";\n\n    this.drawChart(chart, \"line\", data, options);\n  }\n\n  renderPieChart(chart) {\n    let options = merge({}, baseOptions);\n    if (chart.options.donut) {\n      options.cutoutPercentage = 50;\n    }\n\n    if (\"legend\" in chart.options) {\n      hideLegend(options, chart.options.legend);\n    }\n\n    if (chart.options.title) {\n      setTitle(options, chart.options.title);\n    }\n\n    options = merge(options, chart.options.library || {});\n    setFormatOptions(chart, options, \"pie\");\n\n    let labels = [];\n    let values = [];\n    for (let i = 0; i < chart.data.length; i++) {\n      let point = chart.data[i];\n      labels.push(point[0]);\n      values.push(point[1]);\n    }\n\n    let dataset = {\n      data: values,\n      backgroundColor: chart.options.colors || defaultColors\n    };\n    dataset = merge(dataset, chart.options.dataset || {});\n\n    let data = {\n      labels: labels,\n      datasets: [dataset]\n    };\n\n    this.drawChart(chart, \"pie\", data, options);\n  }\n\n  renderColumnChart(chart, chartType) {\n    let options;\n    if (chartType === \"bar\") {\n      options = jsOptionsFunc(merge(baseOptions, defaultOptions), hideLegend, setTitle, setBarMin, setBarMax, setStacked, setXtitle, setYtitle)(chart, chart.options);\n    } else {\n      options = jsOptions(chart, chart.options);\n    }\n    setFormatOptions(chart, options, chartType);\n    let data = createDataTable(chart, options, \"column\");\n    if (chartType !== \"bar\") {\n      setLabelSize(chart, data, options);\n    }\n    this.drawChart(chart, (chartType === \"bar\" ? \"horizontalBar\" : \"bar\"), data, options);\n  }\n\n  renderAreaChart(chart) {\n    this.renderLineChart(chart, \"area\");\n  }\n\n  renderBarChart(chart) {\n    this.renderColumnChart(chart, \"bar\");\n  }\n\n  renderScatterChart(chart, chartType, lineChart) {\n    chartType = chartType || \"line\";\n\n    let options = jsOptions(chart, chart.options);\n    if (!lineChart) {\n      setFormatOptions(chart, options, chartType);\n    }\n\n    let colors = chart.options.colors || defaultColors;\n\n    let datasets = [];\n    let series = chart.data;\n    for (let i = 0; i < series.length; i++) {\n      let s = series[i];\n      let d = [];\n      for (let j = 0; j < s.data.length; j++) {\n        let point = {\n          x: toFloat(s.data[j][0]),\n          y: toFloat(s.data[j][1])\n        };\n        if (chartType === \"bubble\") {\n          point.r = toFloat(s.data[j][2]);\n        }\n        d.push(point);\n      }\n\n      let color = s.color || colors[i];\n      let backgroundColor = chartType === \"area\" ? addOpacity(color, 0.5) : color;\n\n      datasets.push({\n        label: s.name,\n        showLine: lineChart || false,\n        data: d,\n        borderColor: color,\n        backgroundColor: backgroundColor,\n        pointBackgroundColor: color,\n        fill: chartType === \"area\"\n      });\n    }\n\n    if (chartType === \"area\") {\n      chartType = \"line\";\n    }\n\n    let data = {datasets: datasets};\n\n    options.scales.xAxes[0].type = \"linear\";\n    options.scales.xAxes[0].position = \"bottom\";\n\n    this.drawChart(chart, chartType, data, options);\n  }\n\n  renderBubbleChart(chart) {\n    this.renderScatterChart(chart, \"bubble\");\n  }\n\n  renderPolarChart(chart) {\n    let options = merge({}, baseOptions);\n\n    if (\"legend\" in chart.options) {\n      hideLegend(options, chart.options.legend);\n    }\n\n    if (chart.options.title) {\n      setTitle(options, chart.options.title);\n    }\n\n    options = merge(options, chart.options.library || {});\n    setFormatOptions(chart, options, \"polarArea\");\n\n    let labels = [];\n    let values = [];\n    Object.keys(chart.rawData[0]).forEach((point) => {\n      labels.push(point);\n      values.push(chart.rawData[0][point]);\n    });\n\n    let dataset = {\n      data: values,\n      backgroundColor: chart.options.colors || defaultColors\n    };\n    dataset = merge(dataset, chart.options.dataset || {});\n\n    let data = {\n      labels: labels,\n      datasets: [dataset]\n    };\n\n    this.drawChart(chart, \"polarArea\", data, options);\n  }\n\n  destroy(chart) {\n    if (chart.chart) {\n      chart.chart.destroy();\n    }\n  }\n\n  drawChart(chart, type, data, options) {\n    this.destroy(chart);\n\n    let chartOptions = {\n      type: type,\n      data: data,\n      options: options\n    };\n\n    if (chart.options.eject) {\n      chart.element.innerText = \"new Chart(ctx, \" + JSON.stringify(chartOptions) + \");\";\n    } else {\n      chart.element.innerHTML = \"<canvas></canvas>\";\n      let ctx = chart.element.getElementsByTagName(\"CANVAS\")[0];\n      chart.chart = new this.library(ctx, chartOptions);\n    }\n  }\n}\n","import { formatValue, jsOptionsFunc, merge, sortByNumber } from \"../helpers\";\n\nlet defaultOptions = {\n  chart: {},\n  xAxis: {\n    title: {\n      text: null\n    },\n    labels: {\n      style: {\n        fontSize: \"12px\"\n      }\n    }\n  },\n  yAxis: {\n    title: {\n      text: null\n    },\n    labels: {\n      style: {\n        fontSize: \"12px\"\n      }\n    }\n  },\n  title: {\n    text: null\n  },\n  credits: {\n    enabled: false\n  },\n  legend: {\n    borderWidth: 0\n  },\n  tooltip: {\n    style: {\n      fontSize: \"12px\"\n    }\n  },\n  plotOptions: {\n    areaspline: {},\n    series: {\n      marker: {}\n    }\n  }\n};\n\nlet hideLegend = function (options, legend, hideLegend) {\n  if (legend !== undefined) {\n    options.legend.enabled = !!legend;\n    if (legend && legend !== true) {\n      if (legend === \"top\" || legend === \"bottom\") {\n        options.legend.verticalAlign = legend;\n      } else {\n        options.legend.layout = \"vertical\";\n        options.legend.verticalAlign = \"middle\";\n        options.legend.align = legend;\n      }\n    }\n  } else if (hideLegend) {\n    options.legend.enabled = false;\n  }\n};\n\nlet setTitle = function (options, title) {\n  options.title.text = title;\n};\n\nlet setMin = function (options, min) {\n  options.yAxis.min = min;\n};\n\nlet setMax = function (options, max) {\n  options.yAxis.max = max;\n};\n\nlet setStacked = function (options, stacked) {\n  options.plotOptions.series.stacking = stacked ? (stacked === true ? \"normal\" : stacked) : null;\n};\n\nlet setXtitle = function (options, title) {\n  options.xAxis.title.text = title;\n};\n\nlet setYtitle = function (options, title) {\n  options.yAxis.title.text = title;\n};\n\nlet jsOptions = jsOptionsFunc(defaultOptions, hideLegend, setTitle, setMin, setMax, setStacked, setXtitle, setYtitle);\n\nlet setFormatOptions = function(chart, options, chartType) {\n  let formatOptions = {\n    prefix: chart.options.prefix,\n    suffix: chart.options.suffix,\n    thousands: chart.options.thousands,\n    decimal: chart.options.decimal\n  };\n\n  if (formatOptions.prefix || formatOptions.suffix || formatOptions.thousands || formatOptions.decimal) {\n    if (chartType !== \"pie\" && !options.yAxis.labels.formatter) {\n      options.yAxis.labels.formatter = function () {\n        return formatValue(\"\", this.value, formatOptions);\n      };\n    }\n\n    if (!options.tooltip.pointFormatter) {\n      options.tooltip.pointFormatter = function () {\n        return '<span style=\"color:' + this.color + '>\\u25CF</span> ' + formatValue(this.series.name + ': <b>', this.y, formatOptions) + '</b><br/>';\n      };\n    }\n  }\n};\n\nexport default class {\n  constructor(library) {\n    this.name = \"highcharts\";\n    this.library = library;\n  }\n\n  renderLineChart(chart, chartType) {\n    chartType = chartType || \"spline\";\n    let chartOptions = {};\n    if (chartType === \"areaspline\") {\n      chartOptions = {\n        plotOptions: {\n          areaspline: {\n            stacking: \"normal\"\n          },\n          area: {\n            stacking: \"normal\"\n          },\n          series: {\n            marker: {\n              enabled: false\n            }\n          }\n        }\n      };\n    }\n\n    if (chart.options.curve === false) {\n      if (chartType === \"areaspline\") {\n        chartType = \"area\";\n      } else if (chartType === \"spline\") {\n        chartType = \"line\";\n      }\n    }\n\n    let options = jsOptions(chart, chart.options, chartOptions), data, i, j;\n    options.xAxis.type = chart.discrete ? \"category\" : \"datetime\";\n    if (!options.chart.type) {\n      options.chart.type = chartType;\n    }\n    setFormatOptions(chart, options, chartType);\n\n    let series = chart.data;\n    for (i = 0; i < series.length; i++) {\n      data = series[i].data;\n      if (!chart.discrete) {\n        for (j = 0; j < data.length; j++) {\n          data[j][0] = data[j][0].getTime();\n        }\n      }\n      series[i].marker = {symbol: \"circle\"};\n      if (chart.options.points === false) {\n        series[i].marker.enabled = false;\n      }\n    }\n\n    this.drawChart(chart, series, options);\n  }\n\n  renderScatterChart(chart) {\n    let options = jsOptions(chart, chart.options, {});\n    options.chart.type = \"scatter\";\n    this.drawChart(chart, chart.data, options);\n  }\n\n  renderPieChart(chart) {\n    let chartOptions = merge(defaultOptions, {});\n\n    if (chart.options.colors) {\n      chartOptions.colors = chart.options.colors;\n    }\n    if (chart.options.donut) {\n      chartOptions.plotOptions = {pie: {innerSize: \"50%\"}};\n    }\n\n    if (\"legend\" in chart.options) {\n      hideLegend(chartOptions, chart.options.legend);\n    }\n\n    if (chart.options.title) {\n      setTitle(chartOptions, chart.options.title);\n    }\n\n    let options = merge(chartOptions, chart.options.library || {});\n    setFormatOptions(chart, options, \"pie\");\n    let series = [{\n      type: \"pie\",\n      name: chart.options.label || \"Value\",\n      data: chart.data\n    }];\n\n    this.drawChart(chart, series, options);\n  }\n\n  renderColumnChart(chart, chartType) {\n    chartType = chartType || \"column\";\n    let series = chart.data;\n    let options = jsOptions(chart, chart.options), i, j, s, d, rows = [], categories = [];\n    options.chart.type = chartType;\n    setFormatOptions(chart, options, chartType);\n\n    for (i = 0; i < series.length; i++) {\n      s = series[i];\n\n      for (j = 0; j < s.data.length; j++) {\n        d = s.data[j];\n        if (!rows[d[0]]) {\n          rows[d[0]] = new Array(series.length);\n          categories.push(d[0]);\n        }\n        rows[d[0]][i] = d[1];\n      }\n    }\n\n    if (chart.options.xtype === \"number\") {\n      categories.sort(sortByNumber);\n    }\n\n    options.xAxis.categories = categories;\n\n    let newSeries = [], d2;\n    for (i = 0; i < series.length; i++) {\n      d = [];\n      for (j = 0; j < categories.length; j++) {\n        d.push(rows[categories[j]][i] || 0);\n      }\n\n      d2 = {\n        name: series[i].name,\n        data: d\n      };\n      if (series[i].stack) {\n        d2.stack = series[i].stack;\n      }\n\n      newSeries.push(d2);\n    }\n\n    this.drawChart(chart, newSeries, options);\n  }\n\n  renderBarChart(chart) {\n    this.renderColumnChart(chart, \"bar\");\n  }\n\n  renderAreaChart(chart) {\n    this.renderLineChart(chart, \"areaspline\");\n  }\n\n  destroy(chart) {\n    if (chart.chart) {\n      chart.chart.destroy();\n    }\n  }\n\n  drawChart(chart, data, options) {\n    this.destroy(chart);\n\n    options.chart.renderTo = chart.element.id;\n    options.series = data;\n\n    if (chart.options.eject) {\n      chart.element.innerText = \"new Highcharts.Chart(\" + JSON.stringify(options) + \");\";\n    } else {\n      chart.chart = new this.library.Chart(options);\n    }\n  }\n}\n","import { jsOptionsFunc, merge, toStr, toFloat, sortByTime, sortByNumberSeries, isDay } from \"../helpers\";\n\nlet loaded = {};\nlet callbacks = [];\n\n// Set chart options\nlet defaultOptions = {\n  chartArea: {},\n  fontName: \"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif\",\n  pointSize: 6,\n  legend: {\n    textStyle: {\n      fontSize: 12,\n      color: \"#444\"\n    },\n    alignment: \"center\",\n    position: \"right\"\n  },\n  curveType: \"function\",\n  hAxis: {\n    textStyle: {\n      color: \"#666\",\n      fontSize: 12\n    },\n    titleTextStyle: {},\n    gridlines: {\n      color: \"transparent\"\n    },\n    baselineColor: \"#ccc\",\n    viewWindow: {}\n  },\n  vAxis: {\n    textStyle: {\n      color: \"#666\",\n      fontSize: 12\n    },\n    titleTextStyle: {},\n    baselineColor: \"#ccc\",\n    viewWindow: {}\n  },\n  tooltip: {\n    textStyle: {\n      color: \"#666\",\n      fontSize: 12\n    }\n  }\n};\n\nlet hideLegend = function (options, legend, hideLegend) {\n  if (legend !== undefined) {\n    let position;\n    if (!legend) {\n      position = \"none\";\n    } else if (legend === true) {\n      position = \"right\";\n    } else {\n      position = legend;\n    }\n    options.legend.position = position;\n  } else if (hideLegend) {\n    options.legend.position = \"none\";\n  }\n};\n\nlet setTitle = function (options, title) {\n  options.title = title;\n  options.titleTextStyle = {color: \"#333\", fontSize: \"20px\"};\n};\n\nlet setMin = function (options, min) {\n  options.vAxis.viewWindow.min = min;\n};\n\nlet setMax = function (options, max) {\n  options.vAxis.viewWindow.max = max;\n};\n\nlet setBarMin = function (options, min) {\n  options.hAxis.viewWindow.min = min;\n};\n\nlet setBarMax = function (options, max) {\n  options.hAxis.viewWindow.max = max;\n};\n\nlet setStacked = function (options, stacked) {\n  options.isStacked = stacked ? stacked : false;\n};\n\nlet setXtitle = function (options, title) {\n  options.hAxis.title = title;\n  options.hAxis.titleTextStyle.italic = false;\n};\n\nlet setYtitle = function (options, title) {\n  options.vAxis.title = title;\n  options.vAxis.titleTextStyle.italic = false;\n};\n\nlet jsOptions = jsOptionsFunc(defaultOptions, hideLegend, setTitle, setMin, setMax, setStacked, setXtitle, setYtitle);\n\nlet resize = function (callback) {\n  if (window.attachEvent) {\n    window.attachEvent(\"onresize\", callback);\n  } else if (window.addEventListener) {\n    window.addEventListener(\"resize\", callback, true);\n  }\n  callback();\n};\n\nexport default class {\n  constructor(library) {\n    this.name = \"google\";\n    this.library = library;\n  }\n\n  renderLineChart(chart) {\n    this.waitForLoaded(chart, () => {\n      let chartOptions = {};\n\n      if (chart.options.curve === false) {\n        chartOptions.curveType = \"none\";\n      }\n\n      if (chart.options.points === false) {\n        chartOptions.pointSize = 0;\n      }\n\n      let options = jsOptions(chart, chart.options, chartOptions);\n      let columnType = chart.discrete ? \"string\" : \"datetime\";\n      if (chart.options.xtype === \"number\") {\n        columnType = \"number\";\n      }\n      let data = this.createDataTable(chart.data, columnType);\n\n      this.drawChart(chart, \"LineChart\", data, options);\n    });\n  }\n\n  renderPieChart(chart) {\n    this.waitForLoaded(chart, () => {\n      let chartOptions = {\n        chartArea: {\n          top: \"10%\",\n          height: \"80%\"\n        },\n        legend: {}\n      };\n      if (chart.options.colors) {\n        chartOptions.colors = chart.options.colors;\n      }\n      if (chart.options.donut) {\n        chartOptions.pieHole = 0.5;\n      }\n      if (\"legend\" in chart.options) {\n        hideLegend(chartOptions, chart.options.legend);\n      }\n      if (chart.options.title) {\n        setTitle(chartOptions, chart.options.title);\n      }\n      let options = merge(merge(defaultOptions, chartOptions), chart.options.library || {});\n\n      let data = new this.library.visualization.DataTable();\n      data.addColumn(\"string\", \"\");\n      data.addColumn(\"number\", \"Value\");\n      data.addRows(chart.data);\n\n      this.drawChart(chart, \"PieChart\", data, options);\n    });\n  }\n\n  renderColumnChart(chart) {\n    this.waitForLoaded(chart, () => {\n      let options = jsOptions(chart, chart.options);\n      let data = this.createDataTable(chart.data, \"string\", chart.options.xtype);\n\n      this.drawChart(chart, \"ColumnChart\", data, options);\n    });\n  }\n\n  renderBarChart(chart) {\n    this.waitForLoaded(chart, () => {\n      let chartOptions = {\n        hAxis: {\n          gridlines: {\n            color: \"#ccc\"\n          }\n        }\n      };\n      let options = jsOptionsFunc(defaultOptions, hideLegend, setTitle, setBarMin, setBarMax, setStacked, setXtitle, setYtitle)(chart, chart.options, chartOptions);\n      let data = this.createDataTable(chart.data, \"string\", chart.options.xtype);\n\n      this.drawChart(chart, \"BarChart\", data, options);\n    });\n  }\n\n  renderAreaChart(chart) {\n    this.waitForLoaded(chart, () => {\n      let chartOptions = {\n        isStacked: true,\n        pointSize: 0,\n        areaOpacity: 0.5\n      };\n\n      let options = jsOptions(chart, chart.options, chartOptions);\n      let columnType = chart.discrete ? \"string\" : \"datetime\";\n      if (chart.options.xtype === \"number\") {\n        columnType = \"number\";\n      }\n      let data = this.createDataTable(chart.data, columnType);\n\n      this.drawChart(chart, \"AreaChart\", data, options);\n    });\n  }\n\n  renderGeoChart(chart) {\n    this.waitForLoaded(chart, () => {\n      let chartOptions = {\n        legend: \"none\",\n        colorAxis: {\n          colors: chart.options.colors || [\"#f6c7b6\", \"#ce502d\"]\n        }\n      };\n      let options = merge(merge(defaultOptions, chartOptions), chart.options.library || {});\n\n      let data = new this.library.visualization.DataTable();\n      data.addColumn(\"string\", \"\");\n      data.addColumn(\"number\", chart.options.label || \"Value\");\n      data.addRows(chart.data);\n\n      this.drawChart(chart, \"GeoChart\", data, options);\n    });\n  }\n\n  renderScatterChart(chart) {\n    this.waitForLoaded(chart, () => {\n      let chartOptions = {};\n      let options = jsOptions(chart, chart.options, chartOptions);\n\n      let series = chart.data, rows2 = [], i, j, data, d;\n      for (i = 0; i < series.length; i++) {\n        d = series[i].data;\n        for (j = 0; j < d.length; j++) {\n          let row = new Array(series.length + 1);\n          row[0] = d[j][0];\n          row[i + 1] = d[j][1];\n          rows2.push(row);\n        }\n      }\n\n      data = new this.library.visualization.DataTable();\n      data.addColumn(\"number\", \"\");\n      for (i = 0; i < series.length; i++) {\n        data.addColumn(\"number\", series[i].name);\n      }\n      data.addRows(rows2);\n\n      this.drawChart(chart, \"ScatterChart\", data, options);\n    });\n  }\n\n  renderTimeline(chart) {\n    this.waitForLoaded(chart, \"timeline\", () => {\n      let chartOptions = {\n        legend: \"none\"\n      };\n\n      if (chart.options.colors) {\n        chartOptions.colors = chart.options.colors;\n      }\n      let options = merge(merge(defaultOptions, chartOptions), chart.options.library || {});\n\n      let data = new this.library.visualization.DataTable();\n      data.addColumn({type: \"string\", id: \"Name\"});\n      data.addColumn({type: \"date\", id: \"Start\"});\n      data.addColumn({type: \"date\", id: \"End\"});\n      data.addRows(chart.data);\n\n      chart.element.style.lineHeight = \"normal\";\n\n      this.drawChart(chart, \"Timeline\", data, options);\n    });\n  }\n\n  renderComboChart(chart) {\n    this.waitForLoaded(chart, () => {\n      let chartOptions = {\n        legend: \"none\",\n        colorAxis: {\n          colors: chart.options.colors || [\"#f6c7b6\", \"#ce502d\"]\n        },\n        vAxes: {\n          0: {\n            viewWindowMode:\"explicit\",\n            gridlines: {color: \"transparent\"},\n          },\n          1: {\n            gridlines: {color: \"transparent\"},\n            viewWindow: {\n              max:100,\n              min:0\n            },\n            format: \"#.#'%'\"\n\n          },\n        },\n        seriesType: \"bars\",\n        series: {\n          0: {\n            targetAxisIndex:0\n          },\n          1:  {\n            targetAxisIndex:1,\n            type: \"line\"\n          },\n        }\n      };\n\n      let options = merge(merge(defaultOptions, chartOptions), chart.options.library || {});      \n      let data = this.library.visualization.arrayToDataTable(chart.data);\n\n      this.drawChart(chart, \"ComboChart\", data, options);\n    });\n  }\n\n  destroy(chart) {\n    if (chart.chart) {\n      chart.chart.clearChart();\n    }\n  }\n\n  drawChart(chart, type, data, options) {\n    this.destroy(chart);\n    \n    if (chart.options.eject) {\n      chart.element.innerText = \"var data = new google.visualization.DataTable(\" + data.toJSON() + \");\\nvar chart = new google.visualization.\" + type + \"(element);\\nchart.draw(data, \" + JSON.stringify(options) + \");\";\n    } else {\n      chart.chart = new this.library.visualization[type](chart.element);\n      resize(function () {\n        chart.chart.draw(data, options);\n      });\n    }\n  }\n\n  waitForLoaded(chart, pack, callback) {\n    if (!callback) {\n      callback = pack;\n      pack = \"corechart\";\n    }\n\n    callbacks.push({pack: pack, callback: callback});\n\n    if (loaded[pack]) {\n      this.runCallbacks();\n    } else {\n      loaded[pack] = true;\n\n      // https://groups.google.com/forum/#!topic/google-visualization-api/fMKJcyA2yyI\n      let loadOptions = {\n        packages: [pack],\n        callback: () => { this.runCallbacks(); }\n      };\n      let config = chart.__config();\n      if (config.language) {\n        loadOptions.language = config.language;\n      }\n      if (pack === \"corechart\" && config.mapsApiKey) {\n        loadOptions.mapsApiKey = config.mapsApiKey;\n      }\n\n      if (this.library.setOnLoadCallback) {\n        this.library.load(\"visualization\", \"1\", loadOptions);\n      } else {\n        this.library.charts.load(\"current\", loadOptions);\n      }\n    }\n  }\n\n  runCallbacks() {\n    let cb, call;\n    for (let i = 0; i < callbacks.length; i++) {\n      cb = callbacks[i];\n      call = this.library.visualization && ((cb.pack === \"corechart\" && this.library.visualization.LineChart) || (cb.pack === \"timeline\" && this.library.visualization.Timeline));\n      if (call) {\n        cb.callback();\n        callbacks.splice(i, 1);\n        i--;\n      }\n    }\n  }\n\n  // cant use object as key\n  createDataTable(series, columnType, xtype) {\n    let i, j, s, d, key, rows = [], sortedLabels = [];\n    for (i = 0; i < series.length; i++) {\n      s = series[i];\n\n      for (j = 0; j < s.data.length; j++) {\n        d = s.data[j];\n        key = (columnType === \"datetime\") ? d[0].getTime() : d[0];\n        if (!rows[key]) {\n          rows[key] = new Array(series.length);\n          sortedLabels.push(key);\n        }\n        rows[key][i] = toFloat(d[1]);\n      }\n    }\n\n    let rows2 = [];\n    let day = true;\n    let value;\n    for (j = 0; j < sortedLabels.length; j++) {\n      i = sortedLabels[j];\n      if (columnType === \"datetime\") {\n        value = new Date(toFloat(i));\n        day = day && isDay(value);\n      } else if (columnType === \"number\") {\n        value = toFloat(i);\n      } else {\n        value = i;\n      }\n      rows2.push([value].concat(rows[i]));\n    }\n    if (columnType === \"datetime\") {\n      rows2.sort(sortByTime);\n    } else if (columnType === \"number\") {\n      rows2.sort(sortByNumberSeries);\n    }\n\n    if (xtype === \"number\") {\n      rows2.sort(sortByNumberSeries);\n\n      for (i = 0; i < rows2.length; i++) {\n        rows2[i][0] = toStr(rows2[i][0]);\n      }\n    }\n\n    // create datatable\n    let data = new this.library.visualization.DataTable();\n    columnType = columnType === \"datetime\" && day ? \"date\" : columnType;\n    data.addColumn(columnType, \"\");\n    for (i = 0; i < series.length; i++) {\n      data.addColumn(\"number\", series[i].name);\n    }\n    data.addRows(rows2);\n\n    return data;\n  }\n}\n","let pendingRequests = [], runningRequests = 0, maxRequests = 4;\n\nfunction pushRequest(url, success, error) {\n  pendingRequests.push([url, success, error]);\n  runNext();\n}\n\nfunction runNext() {\n  if (runningRequests < maxRequests) {\n    let request = pendingRequests.shift();\n    if (request) {\n      runningRequests++;\n      getJSON(request[0], request[1], request[2]);\n      runNext();\n    }\n  }\n}\n\nfunction requestComplete() {\n  runningRequests--;\n  runNext();\n}\n\nfunction getJSON(url, success, error) {\n  ajaxCall(url, success, function (jqXHR, textStatus, errorThrown) {\n    let message = (typeof errorThrown === \"string\") ? errorThrown : errorThrown.message;\n    error(message);\n  });\n}\n\nfunction ajaxCall(url, success, error) {\n  let $ = window.jQuery || window.Zepto || window.$;\n\n  if ($) {\n    $.ajax({\n      dataType: \"json\",\n      url: url,\n      success: success,\n      error: error,\n      complete: requestComplete\n    });\n  } else {\n    let xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", url, true);\n    xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n    xhr.onload = function () {\n      requestComplete();\n      if (xhr.status === 200) {\n        success(JSON.parse(xhr.responseText), xhr.statusText, xhr);\n      } else {\n        error(xhr, \"error\", xhr.statusText);\n      }\n    };\n    xhr.send();\n  }\n}\n\nexport { pushRequest };\n","import ChartjsAdapter from \"./adapters/chartjs\";\nimport HighchartsAdapter from \"./adapters/highcharts\";\nimport GoogleChartsAdapter from \"./adapters/google\";\n\nimport { merge, isFunction, isArray, toStr, toFloat, toDate, toArr, sortByTime, sortByNumberSeries, isDate } from \"./helpers\";\nimport { pushRequest } from \"./request-queue\";\n\nlet config = (typeof window !== \"undefined\" && window.Chartkick) || {};\nlet adapters = [];\n\n// helpers\n\nfunction setText(element, text) {\n  if (document.body.innerText) {\n    element.innerText = text;\n  } else {\n    element.textContent = text;\n  }\n}\n\nfunction chartError(element, message) {\n  setText(element, \"Error Loading Chart: \" + message);\n  element.style.color = \"#ff0000\";\n}\n\nfunction errorCatcher(chart) {\n  try {\n    chart.__render();\n  } catch (err) {\n    chartError(chart.element, err.message);\n    throw err;\n  }\n}\n\nfunction fetchDataSource(chart, dataSource) {\n  if (typeof dataSource === \"string\") {\n    pushRequest(dataSource, function (data) {\n      chart.rawData = data;\n      errorCatcher(chart);\n    }, function (message) {\n      chartError(chart.element, message);\n    });\n  } else {\n    chart.rawData = dataSource;\n    errorCatcher(chart);\n  }\n}\n\nfunction addDownloadButton(chart) {\n  let element = chart.element;\n  let link = document.createElement(\"a\");\n  link.download = chart.options.download === true ? \"chart.png\" : chart.options.download; // http://caniuse.com/download\n  link.style.position = \"absolute\";\n  link.style.top = \"20px\";\n  link.style.right = \"20px\";\n  link.style.zIndex = 1000;\n  link.style.lineHeight = \"20px\";\n  link.target = \"_blank\"; // for safari\n  let image = document.createElement(\"img\");\n  image.alt = \"Download\";\n  image.style.border = \"none\";\n  // icon from font-awesome\n  // http://fa2png.io/\n  image.src = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABCFBMVEUAAADMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMywEsqxAAAAV3RSTlMAAQIDBggJCgsMDQ4PERQaHB0eISIjJCouLzE0OTo/QUJHSUpLTU5PUllhYmltcHh5foWLjI+SlaCio6atr7S1t7m6vsHHyM7R2tze5Obo7fHz9ff5+/1hlxK2AAAA30lEQVQYGUXBhVYCQQBA0TdYWAt2d3d3YWAHyur7/z9xgD16Lw0DW+XKx+1GgX+FRzM3HWQWrHl5N/oapW5RPe0PkBu+UYeICvozTWZVK23Ao04B79oJrOsJDOoxkZoQPWgX29pHpCZEk7rEvQYiNSFq1UMqvlCjJkRBS1R8hb00Vb/TajtBL7nTHE1X1vyMQF732dQhyF2o6SAwrzP06iUQzvwsArlnzcOdrgBhJyHa1QOgO9U1GsKuvjUTjavliZYQ8nNPapG6sap/3nrIdJ6bOWzmX/fy0XVpfzZP3S8OJT3g9EEiJwAAAABJRU5ErkJggg==\";\n  link.appendChild(image);\n  element.style.position = \"relative\";\n\n  chart.__downloadAttached = true;\n\n  // mouseenter\n  chart.__enterEvent = addEvent(element, \"mouseover\", function(e) {\n    let related = e.relatedTarget;\n    // check download option again to ensure it wasn't changed\n    if ((!related || (related !== this && !childOf(this, related))) && chart.options.download) {\n      link.href = chart.toImage();\n      element.appendChild(link);\n    }\n  });\n\n  // mouseleave\n  chart.__leaveEvent = addEvent(element, \"mouseout\", function(e) {\n    let related = e.relatedTarget;\n    if (!related || (related !== this && !childOf(this, related))) {\n      if (link.parentNode) {\n        link.parentNode.removeChild(link);\n      }\n    }\n  });\n}\n\n// http://stackoverflow.com/questions/10149963/adding-event-listener-cross-browser\nfunction addEvent(elem, event, fn) {\n  if (elem.addEventListener) {\n    elem.addEventListener(event, fn, false);\n    return fn;\n  } else {\n    let fn2 = function() {\n      // set the this pointer same as addEventListener when fn is called\n      return(fn.call(elem, window.event));\n    };\n    elem.attachEvent(\"on\" + event, fn2);\n    return fn2;\n  }\n}\n\nfunction removeEvent(elem, event, fn) {\n  if (elem.removeEventListener) {\n    elem.removeEventListener(event, fn, false);\n  } else {\n    elem.detachEvent(\"on\" + event, fn);\n  }\n}\n\n// https://gist.github.com/shawnbot/4166283\nfunction childOf(p, c) {\n  if (p === c) return false;\n  while (c && c !== p) c = c.parentNode;\n  return c === p;\n}\n\nfunction getAdapterType(library) {\n  if (library) {\n    if (library.product === \"Highcharts\") {\n      return HighchartsAdapter;\n    } else if (library.setOnLoadCallback || library.charts) {\n      return GoogleChartsAdapter;\n    } else if (isFunction(library)) {\n      return ChartjsAdapter;\n    }\n  }\n  throw new Error(\"Unknown adapter\");\n}\n\nfunction addAdapter(library) {\n  let adapterType = getAdapterType(library);\n  let adapter = new adapterType(library);\n\n  if (adapters.indexOf(adapter) === -1) {\n    adapters.push(adapter);\n  }\n}\n\nfunction loadAdapters() {\n  if (\"Chart\" in window) {\n    addAdapter(window.Chart);\n  }\n\n  if (\"Highcharts\" in window) {\n    addAdapter(window.Highcharts);\n  }\n\n  if (window.google && (window.google.setOnLoadCallback || window.google.charts)) {\n    addAdapter(window.google);\n  }\n}\n\nfunction dataEmpty(data, chartType) {\n  if (chartType === \"PieChart\" || chartType === \"GeoChart\" || chartType === \"Timeline\") {\n    return data.length === 0;\n  } else {\n    for (let i = 0; i < data.length; i++) {\n      if (data[i].data.length > 0) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n\nfunction renderChart(chartType, chart) {\n  if (chart.options.messages && chart.options.messages.empty && dataEmpty(chart.data, chartType)) {\n    setText(chart.element, chart.options.messages.empty);\n  } else {\n    callAdapter(chartType, chart);\n    if (chart.options.download && !chart.__downloadAttached && chart.adapter === \"chartjs\" && !chart.options.eject) {\n      addDownloadButton(chart);\n    }\n  }\n}\n\n// TODO remove chartType if cross-browser way\n// to get the name of the chart class\nfunction callAdapter(chartType, chart) {\n  let i, adapter, fnName, adapterName;\n  fnName = \"render\" + chartType;\n  adapterName = chart.options.adapter;\n\n  loadAdapters();\n\n  for (i = 0; i < adapters.length; i++) {\n    adapter = adapters[i];\n    if ((!adapterName || adapterName === adapter.name) && isFunction(adapter[fnName])) {\n      chart.adapter = adapter.name;\n      chart.__adapterObject = adapter;\n      return adapter[fnName](chart);\n    }\n  }\n\n  if (adapters.length > 0) {\n    throw new Error(\"No charting library found for \" + chartType);\n  } else {\n    throw new Error(\"No charting libraries found - be sure to include one before your charts\");\n  }\n}\n\n// process data\n\nlet toFormattedKey = function (key, keyType) {\n  if (keyType === \"number\") {\n    key = toFloat(key);\n  } else if (keyType === \"datetime\") {\n    key = toDate(key);\n  } else {\n    key = toStr(key);\n  }\n  return key;\n};\n\nlet formatSeriesData = function (data, keyType) {\n  let r = [], key, j;\n  for (j = 0; j < data.length; j++) {\n    if (keyType === \"bubble\") {\n      r.push([toFloat(data[j][0]), toFloat(data[j][1]), toFloat(data[j][2])]);\n    } else {\n      key = toFormattedKey(data[j][0], keyType);\n      r.push([key, toFloat(data[j][1])]);\n    }\n  }\n  if (keyType === \"datetime\") {\n    r.sort(sortByTime);\n  } else if (keyType === \"number\") {\n    r.sort(sortByNumberSeries);\n  }\n  return r;\n};\n\nlet formatColumnData = function (data) {\n  let parsedData = [];\n\n  Object.keys(data).forEach(key => {\n    if(isDate(data[key])) {\n      parsedData.push(toDate(data[key]));\n    } else {\n      parsedData.push(toFloat(data[key]));\n    }\n  });\n\n  return parsedData;\n};\n\nfunction detectDiscrete(series) {\n  let i, j, data;\n  for (i = 0; i < series.length; i++) {\n    data = toArr(series[i].data);\n    for (j = 0; j < data.length; j++) {\n      if (!isDate(data[j][0])) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\n// creates a shallow copy of each element of the array\n// elements are expected to be objects\nfunction copySeries(series) {\n  let newSeries = [], i, j;\n  for (i = 0; i < series.length; i++) {\n    let copy = {};\n    for (j in series[i]) {\n      if (series[i].hasOwnProperty(j)) {\n        copy[j] = series[i][j];\n      }\n    }\n    newSeries.push(copy);\n  }\n  return newSeries;\n}\n\nfunction processSeries(chart, keyType) {\n  let i;\n\n  let opts = chart.options;\n  let series = chart.rawData;\n\n  // see if one series or multiple\n  if (!isArray(series) || typeof series[0] !== \"object\" || isArray(series[0])) {\n    series = [{name: opts.label || \"Value\", data: series}];\n    chart.hideLegend = true;\n  } else {\n    chart.hideLegend = false;\n  }\n  if ((opts.discrete === null || opts.discrete === undefined) && keyType !== \"bubble\" && keyType !== \"number\") {\n    chart.discrete = detectDiscrete(series);\n  } else {\n    chart.discrete = opts.discrete;\n  }\n  if (chart.discrete) {\n    keyType = \"string\";\n  }\n  if (chart.options.xtype) {\n    keyType = chart.options.xtype;\n  }\n\n  // right format\n  series = copySeries(series);\n  for (i = 0; i < series.length; i++) {\n    series[i].data = formatSeriesData(toArr(series[i].data), keyType);\n  }\n\n  return series;\n}\n\nfunction processSimple(chart) {\n  let perfectData = toArr(chart.rawData), i;\n  for (i = 0; i < perfectData.length; i++) {\n    perfectData[i] = [toStr(perfectData[i][0]), toFloat(perfectData[i][1])];\n  }\n  return perfectData;\n}\n\nfunction processCombo(chart) {\n  let perfectData = toArr(chart.rawData), i;\n\n  for (i = 0; i < perfectData.length; i++) {\n    if(i === 0) {\n      let keyList = [];\n\n      Object.keys(perfectData[0]).forEach(key => {\n        keyList.push(key);\n      });  \n\n      perfectData.unshift(keyList);\n      i++;\n    }\n\n    perfectData[i] = formatColumnData(perfectData[i]);\n  }\n\n  return perfectData;\n}\n\n// define classes\n\nclass Chart {\n  constructor(element, dataSource, options) {\n    let elementId;\n    if (typeof element === \"string\") {\n      elementId = element;\n      element = document.getElementById(element);\n      if (!element) {\n        throw new Error(\"No element with id \" + elementId);\n      }\n    }\n    this.element = element;\n    this.options = merge(Chartkick.options, options || {});\n    this.dataSource = dataSource;\n\n    Chartkick.charts[element.id] = this;\n\n    fetchDataSource(this, dataSource);\n\n    if (this.options.refresh) {\n      this.startRefresh();\n    }\n  }\n\n  getElement() {\n    return this.element;\n  }\n\n  getDataSource() {\n    return this.dataSource;\n  }\n\n  getData() {\n    return this.data;\n  }\n\n  getOptions() {\n    return this.options;\n  }\n\n  getChartObject() {\n    return this.chart;\n  }\n\n  getAdapter() {\n    return this.adapter;\n  }\n\n  updateData(dataSource, options) {\n    this.dataSource = dataSource;\n    if (options) {\n      this.__updateOptions(options);\n    }\n    fetchDataSource(this, dataSource);\n  }\n\n  setOptions(options) {\n    this.__updateOptions(options);\n    this.redraw();\n  }\n\n  redraw() {\n    fetchDataSource(this, this.rawData);\n  }\n\n  refreshData() {\n    if (typeof this.dataSource === \"string\") {\n      // prevent browser from caching\n      let sep = this.dataSource.indexOf(\"?\") === -1 ? \"?\" : \"&\";\n      let url = this.dataSource + sep + \"_=\" + (new Date()).getTime();\n      fetchDataSource(this, url);\n    }\n  }\n\n  startRefresh() {\n    let refresh = this.options.refresh;\n\n    if (!this.intervalId) {\n      if (refresh) {\n        this.intervalId = setInterval( () => {\n          this.refreshData();\n        }, refresh * 1000);\n      } else {\n        throw new Error(\"No refresh interval\");\n      }\n    }\n  }\n\n  stopRefresh() {\n    if (this.intervalId) {\n      clearInterval(this.intervalId);\n      this.intervalId = null;\n    }\n  }\n\n  toImage() {\n    if (this.adapter === \"chartjs\") {\n      return this.chart.toBase64Image();\n    } else {\n      return null;\n    }\n  }\n\n  destroy() {\n    if (this.__adapterObject) {\n      this.__adapterObject.destroy(this);\n    }\n\n    if (this.__enterEvent) {\n      removeEvent(this.element, \"mouseover\", this.__enterEvent);\n    }\n\n    if (this.__leaveEvent) {\n      removeEvent(this.element, \"mouseout\", this.__leaveEvent);\n    }\n  }\n\n  __updateOptions(options) {\n    let updateRefresh = options.refresh && options.refresh !== this.options.refresh;\n    this.options = merge(Chartkick.options, options);\n    if (updateRefresh) {\n      this.stopRefresh();\n      this.startRefresh();\n    }\n  }\n\n  __render() {\n    this.data = this.__processData();\n    renderChart(this.__chartName(), this);\n  }\n\n  __config() {\n    return config;\n  }\n}\n\nclass LineChart extends Chart {\n  __processData() {\n    return processSeries(this, \"datetime\");\n  }\n\n  __chartName() {\n    return \"LineChart\";\n  }\n}\n\nclass PieChart extends Chart {\n  __processData() {\n    return processSimple(this);\n  }\n\n  __chartName() {\n    return \"PieChart\";\n  }\n}\n\nclass ColumnChart extends Chart {\n  __processData() {\n    return processSeries(this, \"string\");\n  }\n\n  __chartName() {\n    return \"ColumnChart\";\n  }\n}\n\nclass BarChart extends Chart {\n  __processData() {\n    return processSeries(this, \"string\");\n  }\n\n  __chartName() {\n    return \"BarChart\";\n  }\n}\n\nclass AreaChart extends Chart {\n  __processData() {\n    return processSeries(this, \"datetime\");\n  }\n\n  __chartName() {\n    return \"AreaChart\";\n  }\n}\n\nclass GeoChart extends Chart {\n  __processData() {\n    return processSimple(this);\n  }\n\n  __chartName() {\n    return \"GeoChart\";\n  }\n}\n\nclass ScatterChart extends Chart {\n  __processData() {\n    return processSeries(this, \"number\");\n  }\n\n  __chartName() {\n    return \"ScatterChart\";\n  }\n}\n\nclass BubbleChart extends Chart {\n  __processData() {\n    return processSeries(this, \"bubble\");\n  }\n\n  __chartName() {\n    return \"BubbleChart\";\n  }\n}\n\nclass Timeline extends Chart {\n  __processData() {\n    let i, data = this.rawData;\n    for (i = 0; i < data.length; i++) {\n      data[i][1] = toDate(data[i][1]);\n      data[i][2] = toDate(data[i][2]);\n    }\n    return data;\n  }\n\n  __chartName() {\n    return \"Timeline\";\n  }\n}\n\nclass ComboChart extends Chart {\n  __processData() {\n    return processCombo(this);\n  }\n\n  __chartName() {\n    return \"ComboChart\";\n  }\n}\n\nclass PolarChart extends Chart {\n  __processData() {\n    return processSeries(this, \"polar\");\n  }\n\n  __chartName() {\n    return \"PolarChart\";\n  }\n}\n\nconst Chartkick = {\n  LineChart: LineChart,\n  PieChart: PieChart,\n  ColumnChart: ColumnChart,\n  BarChart: BarChart,\n  AreaChart: AreaChart,\n  GeoChart: GeoChart,\n  ScatterChart: ScatterChart,\n  BubbleChart: BubbleChart,\n  Timeline: Timeline,\n  ComboChart: ComboChart,\n  PolarChart: PolarChart,\n  charts: {},\n  configure: function (options) {\n    for (let key in options) {\n      if (options.hasOwnProperty(key)) {\n        config[key] = options[key];\n      }\n    }\n  },\n  eachChart: function (callback) {\n    for (let chartId in Chartkick.charts) {\n      if (Chartkick.charts.hasOwnProperty(chartId)) {\n        callback(Chartkick.charts[chartId]);\n      }\n    }\n  },\n  config: config,\n  options: {},\n  adapters: adapters,\n  addAdapter: addAdapter\n};\n\nexport default Chartkick;\n"],"names":["let","defaultOptions","hideLegend","setTitle","setMin","setMax","setStacked","setXtitle","setYtitle","jsOptions","setFormatOptions","defaultExport","setBarMin","setBarMax","this","HighchartsAdapter","GoogleChartsAdapter","ChartjsAdapter","const"],"mappings":"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"}