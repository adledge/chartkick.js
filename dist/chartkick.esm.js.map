{"version":3,"file":"chartkick.esm.js","sources":["../src/helpers.js","../src/adapters/chartjs.js","../src/adapters/highcharts.js","../src/adapters/google.js","../src/request-queue.js","../src/index.js"],"sourcesContent":["function isArray(variable) {\n  return Object.prototype.toString.call(variable) === \"[object Array]\";\n}\n\nfunction isFunction(variable) {\n  return variable instanceof Function;\n}\n\nfunction isPlainObject(variable) {\n  return !isFunction(variable) && variable instanceof Object;\n}\n\n// https://github.com/madrobby/zepto/blob/master/src/zepto.js\nfunction extend(target, source) {\n  let key;\n  for (key in source) {\n    if (isPlainObject(source[key]) || isArray(source[key])) {\n      if (isPlainObject(source[key]) && !isPlainObject(target[key])) {\n        target[key] = {};\n      }\n      if (isArray(source[key]) && !isArray(target[key])) {\n        target[key] = [];\n      }\n      extend(target[key], source[key]);\n    } else if (source[key] !== undefined) {\n      target[key] = source[key];\n    }\n  }\n}\n\nfunction merge(obj1, obj2) {\n  let target = {};\n  extend(target, obj1);\n  extend(target, obj2);\n  return target;\n}\n\nlet DATE_PATTERN = /^(\\d\\d\\d\\d)(-)?(\\d\\d)(-)?(\\d\\d)$/i;\n\n// https://github.com/Do/iso8601.js\nlet ISO8601_PATTERN = /(\\d\\d\\d\\d)(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)?(:)?(\\d\\d)?([.,]\\d+)?($|Z|([+-])(\\d\\d)(:)?(\\d\\d)?)/i;\nlet DECIMAL_SEPARATOR = String(1.5).charAt(1);\n\nfunction parseISO8601(input) {\n  let day, hour, matches, milliseconds, minutes, month, offset, result, seconds, type, year;\n  type = Object.prototype.toString.call(input);\n  if (type === \"[object Date]\") {\n    return input;\n  }\n  if (type !== \"[object String]\") {\n    return;\n  }\n  matches = input.match(ISO8601_PATTERN);\n  if (matches) {\n    year = parseInt(matches[1], 10);\n    month = parseInt(matches[3], 10) - 1;\n    day = parseInt(matches[5], 10);\n    hour = parseInt(matches[7], 10);\n    minutes = matches[9] ? parseInt(matches[9], 10) : 0;\n    seconds = matches[11] ? parseInt(matches[11], 10) : 0;\n    milliseconds = matches[12] ? parseFloat(DECIMAL_SEPARATOR + matches[12].slice(1)) * 1000 : 0;\n    result = Date.UTC(year, month, day, hour, minutes, seconds, milliseconds);\n    if (matches[13] && matches[14]) {\n      offset = matches[15] * 60;\n      if (matches[17]) {\n        offset += parseInt(matches[17], 10);\n      }\n      offset *= matches[14] === \"-\" ? -1 : 1;\n      result -= offset * 60 * 1000;\n    }\n    return new Date(result);\n  }\n}\n// end iso8601.js\n\nfunction negativeValues(series) {\n  let i, j, data;\n  for (i = 0; i < series.length; i++) {\n    data = series[i].data;\n    for (j = 0; j < data.length; j++) {\n      if (data[j][1] < 0) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction toStr(n) {\n  return \"\" + n;\n}\n\nfunction toFloat(n) {\n  return parseFloat(n);\n}\n\nfunction toDate(n) {\n  let matches, year, month, day;\n  if (typeof n !== \"object\") {\n    if (typeof n === \"number\") {\n      n = new Date(n * 1000); // ms\n    } else {\n      n = toStr(n);\n      if ((matches = n.match(DATE_PATTERN))) {\n      year = parseInt(matches[1], 10);\n      month = parseInt(matches[3], 10) - 1;\n      day = parseInt(matches[5], 10);\n      return new Date(year, month, day);\n      } else { // str\n        // try our best to get the str into iso8601\n        // TODO be smarter about this\n        let str = n.replace(/ /, \"T\").replace(\" \", \"\").replace(\"UTC\", \"Z\");\n        n = parseISO8601(str) || new Date(n);\n      }\n    }\n  }\n  return n;\n}\n\nfunction toArr(n) {\n  if (!isArray(n)) {\n    let arr = [], i;\n    for (i in n) {\n      if (n.hasOwnProperty(i)) {\n        arr.push([i, n[i]]);\n      }\n    }\n    n = arr;\n  }\n  return n;\n}\n\nfunction jsOptionsFunc(defaultOptions, hideLegend, setTitle, setMin, setMax, setStacked, setXtitle, setYtitle) {\n  return function (chart, opts, chartOptions) {\n    let series = chart.data;\n    let options = merge({}, defaultOptions);\n    options = merge(options, chartOptions || {});\n\n    if (chart.hideLegend || \"legend\" in opts) {\n      hideLegend(options, opts.legend, chart.hideLegend);\n    }\n\n    if (opts.title) {\n      setTitle(options, opts.title);\n    }\n\n    // min\n    if (\"min\" in opts) {\n      setMin(options, opts.min);\n    } else if (!negativeValues(series)) {\n      setMin(options, 0);\n    }\n\n    // max\n    if (opts.max) {\n      setMax(options, opts.max);\n    }\n\n    if (\"stacked\" in opts) {\n      setStacked(options, opts.stacked);\n    }\n\n    if (opts.colors) {\n      options.colors = opts.colors;\n    }\n\n    if (opts.xtitle) {\n      setXtitle(options, opts.xtitle);\n    }\n\n    if (opts.ytitle) {\n      setYtitle(options, opts.ytitle);\n    }\n\n    // merge library last\n    options = merge(options, opts.library || {});\n\n    return options;\n  };\n}\n\nfunction sortByTime(a, b) {\n  return a[0].getTime() - b[0].getTime();\n}\n\nfunction sortByNumberSeries(a, b) {\n  return a[0] - b[0];\n}\n\nfunction sortByNumber(a, b) {\n  return a - b;\n}\n\nfunction isMinute(d) {\n  return d.getMilliseconds() === 0 && d.getSeconds() === 0;\n}\n\nfunction isHour(d) {\n  return isMinute(d) && d.getMinutes() === 0;\n}\n\nfunction isDay(d) {\n  return isHour(d) && d.getHours() === 0;\n}\n\nfunction isWeek(d, dayOfWeek) {\n  return isDay(d) && d.getDay() === dayOfWeek;\n}\n\nfunction isMonth(d) {\n  return isDay(d) && d.getDate() === 1;\n}\n\nfunction isYear(d) {\n  return isMonth(d) && d.getMonth() === 0;\n}\n\nfunction isDate(obj) {\n  return !isNaN(toDate(obj)) && toStr(obj).length >= 6;\n}\n\nfunction formatValue(pre, value, options) {\n  pre = pre || \"\";\n  if (options.prefix) {\n    if (value < 0) {\n      value = value * -1;\n      pre += \"-\";\n    }\n    pre += options.prefix;\n  }\n\n  if (options.thousands || options.decimal) {\n    value = toStr(value);\n    let parts = value.split(\".\");\n    value = parts[0];\n    if (options.thousands) {\n      value = value.replace(/\\B(?=(\\d{3})+(?!\\d))/g, options.thousands);\n    }\n    if (parts.length > 1) {\n      value += (options.decimal || \".\") + parts[1];\n    }\n  }\n\n  return pre + value + (options.suffix || \"\");\n}\n\nexport { formatValue, jsOptionsFunc, merge, isArray, isFunction, toStr, toFloat, toDate, toArr, sortByTime, sortByNumberSeries, sortByNumber, isMinute, isHour, isDay, isWeek, isMonth, isYear, isDate };\n","import { formatValue, jsOptionsFunc, merge, isArray, toStr, toFloat, sortByNumber, isMinute, isHour, isDay, isWeek, isMonth, isYear } from \"../helpers\";\n\nfunction allZeros(data) {\n  let i, j, d;\n  for (i = 0; i < data.length; i++) {\n    d = data[i].data;\n    for (j = 0; j < d.length; j++) {\n      if (d[j][1] != 0) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nlet baseOptions = {\n  maintainAspectRatio: false,\n  animation: false,\n  tooltips: {\n    displayColors: false,\n    callbacks: {}\n  },\n  legend: {},\n  title: {fontSize: 20, fontColor: \"#333\"}\n};\n\nlet defaultOptions = {\n  scales: {\n    yAxes: [\n      {\n        ticks: {\n          maxTicksLimit: 4\n        },\n        scaleLabel: {\n          fontSize: 16,\n          // fontStyle: \"bold\",\n          fontColor: \"#333\"\n        }\n      }\n    ],\n    xAxes: [\n      {\n        gridLines: {\n          drawOnChartArea: false\n        },\n        scaleLabel: {\n          fontSize: 16,\n          // fontStyle: \"bold\",\n          fontColor: \"#333\"\n        },\n        time: {},\n        ticks: {}\n      }\n    ]\n  }\n};\n\n// http://there4.io/2012/05/02/google-chart-color-list/\nlet defaultColors = [\n  \"#3366CC\", \"#DC3912\", \"#FF9900\", \"#109618\", \"#990099\", \"#3B3EAC\", \"#0099C6\",\n  \"#DD4477\", \"#66AA00\", \"#B82E2E\", \"#316395\", \"#994499\", \"#22AA99\", \"#AAAA11\",\n  \"#6633CC\", \"#E67300\", \"#8B0707\", \"#329262\", \"#5574A6\", \"#651067\"\n];\n\nlet hideLegend = function (options, legend, hideLegend) {\n  if (legend !== undefined) {\n    options.legend.display = !!legend;\n    if (legend && legend !== true) {\n      options.legend.position = legend;\n    }\n  } else if (hideLegend) {\n    options.legend.display = false;\n  }\n};\n\nlet setTitle = function (options, title) {\n  options.title.display = true;\n  options.title.text = title;\n};\n\nlet setMin = function (options, min) {\n  if (min !== null) {\n    options.scales.yAxes[0].ticks.min = toFloat(min);\n  }\n};\n\nlet setMax = function (options, max) {\n  options.scales.yAxes[0].ticks.max = toFloat(max);\n};\n\nlet setBarMin = function (options, min) {\n  if (min !== null) {\n    options.scales.xAxes[0].ticks.min = toFloat(min);\n  }\n};\n\nlet setBarMax = function (options, max) {\n  options.scales.xAxes[0].ticks.max = toFloat(max);\n};\n\nlet setStacked = function (options, stacked) {\n  options.scales.xAxes[0].stacked = !!stacked;\n  options.scales.yAxes[0].stacked = !!stacked;\n};\n\nlet setXtitle = function (options, title) {\n  options.scales.xAxes[0].scaleLabel.display = true;\n  options.scales.xAxes[0].scaleLabel.labelString = title;\n};\n\nlet setYtitle = function (options, title) {\n  options.scales.yAxes[0].scaleLabel.display = true;\n  options.scales.yAxes[0].scaleLabel.labelString = title;\n};\n\n// http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\nlet addOpacity = function(hex, opacity) {\n  let result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? \"rgba(\" + parseInt(result[1], 16) + \", \" + parseInt(result[2], 16) + \", \" + parseInt(result[3], 16) + \", \" + opacity + \")\" : hex;\n};\n\nlet setLabelSize = function (chart, data, options) {\n  let maxLabelSize = Math.ceil(chart.element.offsetWidth / 4.0 / data.labels.length);\n  if (maxLabelSize > 25) {\n    maxLabelSize = 25;\n  }\n  options.scales.xAxes[0].ticks.callback = function (value) {\n    value = toStr(value);\n    if (value.length > maxLabelSize) {\n      return value.substring(0, maxLabelSize - 2) + \"...\";\n    } else {\n      return value;\n    }\n  };\n};\n\nlet setFormatOptions = function(chart, options, chartType) {\n  let formatOptions = {\n    prefix: chart.options.prefix,\n    suffix: chart.options.suffix,\n    thousands: chart.options.thousands,\n    decimal: chart.options.decimal\n  };\n\n  if (formatOptions.prefix || formatOptions.suffix || formatOptions.thousands || formatOptions.decimal) {\n    if (chartType !== \"pie\") {\n      let myAxes = options.scales.yAxes;\n      if (chartType === \"bar\") {\n        myAxes = options.scales.xAxes;\n      }\n\n      if (!myAxes[0].ticks.callback) {\n        myAxes[0].ticks.callback = function (value) {\n          return formatValue(\"\", value, formatOptions);\n        };\n      }\n    }\n\n    if (!options.tooltips.callbacks.label) {\n      if (chartType !== \"pie\") {\n        let valueLabel = chartType === \"bar\" ? \"xLabel\" : \"yLabel\";\n        options.tooltips.callbacks.label = function (tooltipItem, data) {\n          let label = data.datasets[tooltipItem.datasetIndex].label || '';\n          if (label) {\n            label += ': ';\n          }\n          return formatValue(label, tooltipItem[valueLabel], formatOptions);\n        };\n      } else {\n        // need to use separate label for pie charts\n        options.tooltips.callbacks.label = function (tooltipItem, data) {\n          let dataLabel = data.labels[tooltipItem.index];\n          let value = ': ';\n\n          if (isArray(dataLabel)) {\n            // show value on first line of multiline label\n            // need to clone because we are changing the value\n            dataLabel = dataLabel.slice();\n            dataLabel[0] += value;\n          } else {\n            dataLabel += value;\n          }\n\n          return formatValue(dataLabel, data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index], formatOptions);\n        };\n      }\n    }\n  }\n};\n\nlet jsOptions = jsOptionsFunc(merge(baseOptions, defaultOptions), hideLegend, setTitle, setMin, setMax, setStacked, setXtitle, setYtitle);\n\nlet createDataTable = function (chart, options, chartType) {\n  let datasets = [];\n  let labels = [];\n\n  let colors = chart.options.colors || defaultColors;\n\n  let day = true;\n  let week = true;\n  let dayOfWeek;\n  let month = true;\n  let year = true;\n  let hour = true;\n  let minute = true;\n  let detectType = (chartType === \"line\" || chartType === \"area\") && !chart.discrete;\n\n  let series = chart.data;\n\n  let sortedLabels = [];\n\n  let i, j, s, d, key, rows = [];\n  for (i = 0; i < series.length; i++) {\n    s = series[i];\n\n    for (j = 0; j < s.data.length; j++) {\n      d = s.data[j];\n      key = detectType ? d[0].getTime() : d[0];\n      if (!rows[key]) {\n        rows[key] = new Array(series.length);\n      }\n      rows[key][i] = toFloat(d[1]);\n      if (sortedLabels.indexOf(key) === -1) {\n        sortedLabels.push(key);\n      }\n    }\n  }\n\n  if (detectType || chart.options.xtype === \"number\") {\n    sortedLabels.sort(sortByNumber);\n  }\n\n  let rows2 = [];\n  for (j = 0; j < series.length; j++) {\n    rows2.push([]);\n  }\n\n  let value;\n  let k;\n  for (k = 0; k < sortedLabels.length; k++) {\n    i = sortedLabels[k];\n    if (detectType) {\n      value = new Date(toFloat(i));\n      // TODO make this efficient\n      day = day && isDay(value);\n      if (!dayOfWeek) {\n        dayOfWeek = value.getDay();\n      }\n      week = week && isWeek(value, dayOfWeek);\n      month = month && isMonth(value);\n      year = year && isYear(value);\n      hour = hour && isHour(value);\n      minute = minute && isMinute(value);\n    } else {\n      value = i;\n    }\n    labels.push(value);\n    for (j = 0; j < series.length; j++) {\n      // Chart.js doesn't like undefined\n      rows2[j].push(rows[i][j] === undefined ? null : rows[i][j]);\n    }\n  }\n\n  for (i = 0; i < series.length; i++) {\n    s = series[i];\n\n    let color = s.color || colors[i];\n    let backgroundColor = chartType !== \"line\" ? addOpacity(color, 0.5) : color;\n\n    let dataset = {\n      label: s.name,\n      data: rows2[i],\n      fill: chartType === \"area\",\n      borderColor: color,\n      backgroundColor: backgroundColor,\n      pointBackgroundColor: color,\n      pointHoverBackgroundColor: color,\n      borderWidth: 2\n    };\n\n    if (s.stack) {\n      dataset.stack = s.stack;\n    }\n\n    if (chart.options.curve === false) {\n      dataset.lineTension = 0;\n    }\n\n    if (chart.options.points === false) {\n      dataset.pointRadius = 0;\n      dataset.pointHitRadius = 5;\n    }\n\n    dataset = merge(dataset, chart.options.dataset || {});\n    dataset = merge(dataset, s.library || {});\n    dataset = merge(dataset, s.dataset || {});\n\n    datasets.push(dataset);\n  }\n\n  if (detectType && labels.length > 0) {\n    let minTime = labels[0].getTime();\n    let maxTime = labels[0].getTime();\n    for (i = 1; i < labels.length; i++) {\n      value = labels[i].getTime();\n      if (value < minTime) {\n        minTime = value;\n      }\n      if (value > maxTime) {\n        maxTime = value;\n      }\n    }\n\n    let timeDiff = (maxTime - minTime) / (86400 * 1000.0);\n\n    if (!options.scales.xAxes[0].time.unit) {\n      let step;\n      if (year || timeDiff > 365 * 10) {\n        options.scales.xAxes[0].time.unit = \"year\";\n        step = 365;\n      } else if (month || timeDiff > 30 * 10) {\n        options.scales.xAxes[0].time.unit = \"month\";\n        step = 30;\n      } else if (day || timeDiff > 10) {\n        options.scales.xAxes[0].time.unit = \"day\";\n        step = 1;\n      } else if (hour || timeDiff > 0.5) {\n        options.scales.xAxes[0].time.displayFormats = {hour: \"MMM D, h a\"};\n        options.scales.xAxes[0].time.unit = \"hour\";\n        step = 1 / 24.0;\n      } else if (minute) {\n        options.scales.xAxes[0].time.displayFormats = {minute: \"h:mm a\"};\n        options.scales.xAxes[0].time.unit = \"minute\";\n        step = 1 / 24.0 / 60.0;\n      }\n\n      if (step && timeDiff > 0) {\n        let unitStepSize = Math.ceil(timeDiff / step / (chart.element.offsetWidth / 100.0));\n        if (week && step === 1) {\n          unitStepSize = Math.ceil(unitStepSize / 7.0) * 7;\n        }\n        options.scales.xAxes[0].time.unitStepSize = unitStepSize;\n      }\n    }\n\n    if (!options.scales.xAxes[0].time.tooltipFormat) {\n      if (day) {\n        options.scales.xAxes[0].time.tooltipFormat = \"ll\";\n      } else if (hour) {\n        options.scales.xAxes[0].time.tooltipFormat = \"MMM D, h a\";\n      } else if (minute) {\n        options.scales.xAxes[0].time.tooltipFormat = \"h:mm a\";\n      }\n    }\n  }\n\n  let data = {\n    labels: labels,\n    datasets: datasets\n  };\n\n  return data;\n};\n\nexport default class {\n  constructor(library) {\n    this.name = \"chartjs\";\n    this.library = library;\n  }\n\n  renderLineChart(chart, chartType) {\n    if (chart.options.xtype === \"number\") {\n      return this.renderScatterChart(chart, chartType, true);\n    }\n\n    let chartOptions = {};\n    if (chartType === \"area\") {\n      // TODO fix area stacked\n      // chartOptions.stacked = true;\n    }\n    // fix for https://github.com/chartjs/Chart.js/issues/2441\n    if (!chart.options.max && allZeros(chart.data)) {\n      chartOptions.max = 1;\n    }\n\n    let options = jsOptions(chart, merge(chartOptions, chart.options));\n    setFormatOptions(chart, options, chartType);\n\n    let data = createDataTable(chart, options, chartType || \"line\");\n\n    options.scales.xAxes[0].type = chart.discrete ? \"category\" : \"time\";\n\n    this.drawChart(chart, \"line\", data, options);\n  }\n\n  renderPieChart(chart) {\n    let options = merge({}, baseOptions);\n    if (chart.options.donut) {\n      options.cutoutPercentage = 50;\n    }\n\n    if (\"legend\" in chart.options) {\n      hideLegend(options, chart.options.legend);\n    }\n\n    if (chart.options.title) {\n      setTitle(options, chart.options.title);\n    }\n\n    options = merge(options, chart.options.library || {});\n    setFormatOptions(chart, options, \"pie\");\n\n    let labels = [];\n    let values = [];\n    for (let i = 0; i < chart.data.length; i++) {\n      let point = chart.data[i];\n      labels.push(point[0]);\n      values.push(point[1]);\n    }\n\n    let dataset = {\n      data: values,\n      backgroundColor: chart.options.colors || defaultColors\n    };\n    dataset = merge(dataset, chart.options.dataset || {});\n\n    let data = {\n      labels: labels,\n      datasets: [dataset]\n    };\n\n    this.drawChart(chart, \"pie\", data, options);\n  }\n\n  renderColumnChart(chart, chartType) {\n    let options;\n    if (chartType === \"bar\") {\n      options = jsOptionsFunc(merge(baseOptions, defaultOptions), hideLegend, setTitle, setBarMin, setBarMax, setStacked, setXtitle, setYtitle)(chart, chart.options);\n    } else {\n      options = jsOptions(chart, chart.options);\n    }\n    setFormatOptions(chart, options, chartType);\n    let data = createDataTable(chart, options, \"column\");\n    if (chartType !== \"bar\") {\n      setLabelSize(chart, data, options);\n    }\n    this.drawChart(chart, (chartType === \"bar\" ? \"horizontalBar\" : \"bar\"), data, options);\n  }\n\n  renderAreaChart(chart) {\n    this.renderLineChart(chart, \"area\");\n  }\n\n  renderBarChart(chart) {\n    this.renderColumnChart(chart, \"bar\");\n  }\n\n  renderScatterChart(chart, chartType, lineChart) {\n    chartType = chartType || \"line\";\n\n    let options = jsOptions(chart, chart.options);\n    if (!lineChart) {\n      setFormatOptions(chart, options, chartType);\n    }\n\n    let colors = chart.options.colors || defaultColors;\n\n    let datasets = [];\n    let series = chart.data;\n    for (let i = 0; i < series.length; i++) {\n      let s = series[i];\n      let d = [];\n      for (let j = 0; j < s.data.length; j++) {\n        let point = {\n          x: toFloat(s.data[j][0]),\n          y: toFloat(s.data[j][1])\n        };\n        if (chartType === \"bubble\") {\n          point.r = toFloat(s.data[j][2]);\n        }\n        d.push(point);\n      }\n\n      let color = s.color || colors[i];\n      let backgroundColor = chartType === \"area\" ? addOpacity(color, 0.5) : color;\n\n      datasets.push({\n        label: s.name,\n        showLine: lineChart || false,\n        data: d,\n        borderColor: color,\n        backgroundColor: backgroundColor,\n        pointBackgroundColor: color,\n        fill: chartType === \"area\"\n      });\n    }\n\n    if (chartType === \"area\") {\n      chartType = \"line\";\n    }\n\n    let data = {datasets: datasets};\n\n    options.scales.xAxes[0].type = \"linear\";\n    options.scales.xAxes[0].position = \"bottom\";\n\n    this.drawChart(chart, chartType, data, options);\n  }\n\n  renderBubbleChart(chart) {\n    this.renderScatterChart(chart, \"bubble\");\n  }\n\n  renderPolarChart(chart) {\n    let options = merge({}, baseOptions);\n\n    if (\"legend\" in chart.options) {\n      hideLegend(options, chart.options.legend);\n    }\n\n    if (chart.options.title) {\n      setTitle(options, chart.options.title);\n    }\n\n    options = merge(options, chart.options.library || {});\n    setFormatOptions(chart, options, \"polarArea\");\n\n    let labels = [];\n    let values = [];\n    Object.keys(chart.rawData[0]).forEach((point) => {\n      labels.push(point);\n      values.push(chart.rawData[0][point]);\n    });\n\n    let dataset = {\n      data: values,\n      backgroundColor: chart.options.colors || defaultColors\n    };\n    dataset = merge(dataset, chart.options.dataset || {});\n\n    let data = {\n      labels: labels,\n      datasets: [dataset]\n    };\n\n    this.drawChart(chart, \"polarArea\", data, options);\n  }\n\n  destroy(chart) {\n    if (chart.chart) {\n      chart.chart.destroy();\n    }\n  }\n\n  drawChart(chart, type, data, options) {\n    this.destroy(chart);\n\n    let chartOptions = {\n      type: type,\n      data: data,\n      options: options\n    };\n\n    if (chart.options.eject) {\n      chart.element.innerText = \"new Chart(ctx, \" + JSON.stringify(chartOptions) + \");\";\n    } else {\n      chart.element.innerHTML = \"<canvas></canvas>\";\n      let ctx = chart.element.getElementsByTagName(\"CANVAS\")[0];\n      chart.chart = new this.library(ctx, chartOptions);\n    }\n  }\n}\n","import { formatValue, jsOptionsFunc, merge, sortByNumber } from \"../helpers\";\n\nlet defaultOptions = {\n  chart: {},\n  xAxis: {\n    title: {\n      text: null\n    },\n    labels: {\n      style: {\n        fontSize: \"12px\"\n      }\n    }\n  },\n  yAxis: {\n    title: {\n      text: null\n    },\n    labels: {\n      style: {\n        fontSize: \"12px\"\n      }\n    }\n  },\n  title: {\n    text: null\n  },\n  credits: {\n    enabled: false\n  },\n  legend: {\n    borderWidth: 0\n  },\n  tooltip: {\n    style: {\n      fontSize: \"12px\"\n    }\n  },\n  plotOptions: {\n    areaspline: {},\n    series: {\n      marker: {}\n    }\n  }\n};\n\nlet hideLegend = function (options, legend, hideLegend) {\n  if (legend !== undefined) {\n    options.legend.enabled = !!legend;\n    if (legend && legend !== true) {\n      if (legend === \"top\" || legend === \"bottom\") {\n        options.legend.verticalAlign = legend;\n      } else {\n        options.legend.layout = \"vertical\";\n        options.legend.verticalAlign = \"middle\";\n        options.legend.align = legend;\n      }\n    }\n  } else if (hideLegend) {\n    options.legend.enabled = false;\n  }\n};\n\nlet setTitle = function (options, title) {\n  options.title.text = title;\n};\n\nlet setMin = function (options, min) {\n  options.yAxis.min = min;\n};\n\nlet setMax = function (options, max) {\n  options.yAxis.max = max;\n};\n\nlet setStacked = function (options, stacked) {\n  options.plotOptions.series.stacking = stacked ? (stacked === true ? \"normal\" : stacked) : null;\n};\n\nlet setXtitle = function (options, title) {\n  options.xAxis.title.text = title;\n};\n\nlet setYtitle = function (options, title) {\n  options.yAxis.title.text = title;\n};\n\nlet jsOptions = jsOptionsFunc(defaultOptions, hideLegend, setTitle, setMin, setMax, setStacked, setXtitle, setYtitle);\n\nlet setFormatOptions = function(chart, options, chartType) {\n  let formatOptions = {\n    prefix: chart.options.prefix,\n    suffix: chart.options.suffix,\n    thousands: chart.options.thousands,\n    decimal: chart.options.decimal\n  };\n\n  if (formatOptions.prefix || formatOptions.suffix || formatOptions.thousands || formatOptions.decimal) {\n    if (chartType !== \"pie\" && !options.yAxis.labels.formatter) {\n      options.yAxis.labels.formatter = function () {\n        return formatValue(\"\", this.value, formatOptions);\n      };\n    }\n\n    if (!options.tooltip.pointFormatter) {\n      options.tooltip.pointFormatter = function () {\n        return '<span style=\"color:' + this.color + '>\\u25CF</span> ' + formatValue(this.series.name + ': <b>', this.y, formatOptions) + '</b><br/>';\n      };\n    }\n  }\n};\n\nexport default class {\n  constructor(library) {\n    this.name = \"highcharts\";\n    this.library = library;\n  }\n\n  renderLineChart(chart, chartType) {\n    chartType = chartType || \"spline\";\n    let chartOptions = {};\n    if (chartType === \"areaspline\") {\n      chartOptions = {\n        plotOptions: {\n          areaspline: {\n            stacking: \"normal\"\n          },\n          area: {\n            stacking: \"normal\"\n          },\n          series: {\n            marker: {\n              enabled: false\n            }\n          }\n        }\n      };\n    }\n\n    if (chart.options.curve === false) {\n      if (chartType === \"areaspline\") {\n        chartType = \"area\";\n      } else if (chartType === \"spline\") {\n        chartType = \"line\";\n      }\n    }\n\n    let options = jsOptions(chart, chart.options, chartOptions), data, i, j;\n    options.xAxis.type = chart.discrete ? \"category\" : \"datetime\";\n    if (!options.chart.type) {\n      options.chart.type = chartType;\n    }\n    setFormatOptions(chart, options, chartType);\n\n    let series = chart.data;\n    for (i = 0; i < series.length; i++) {\n      data = series[i].data;\n      if (!chart.discrete) {\n        for (j = 0; j < data.length; j++) {\n          data[j][0] = data[j][0].getTime();\n        }\n      }\n      series[i].marker = {symbol: \"circle\"};\n      if (chart.options.points === false) {\n        series[i].marker.enabled = false;\n      }\n    }\n\n    this.drawChart(chart, series, options);\n  }\n\n  renderScatterChart(chart) {\n    let options = jsOptions(chart, chart.options, {});\n    options.chart.type = \"scatter\";\n    this.drawChart(chart, chart.data, options);\n  }\n\n  renderPieChart(chart) {\n    let chartOptions = merge(defaultOptions, {});\n\n    if (chart.options.colors) {\n      chartOptions.colors = chart.options.colors;\n    }\n    if (chart.options.donut) {\n      chartOptions.plotOptions = {pie: {innerSize: \"50%\"}};\n    }\n\n    if (\"legend\" in chart.options) {\n      hideLegend(chartOptions, chart.options.legend);\n    }\n\n    if (chart.options.title) {\n      setTitle(chartOptions, chart.options.title);\n    }\n\n    let options = merge(chartOptions, chart.options.library || {});\n    setFormatOptions(chart, options, \"pie\");\n    let series = [{\n      type: \"pie\",\n      name: chart.options.label || \"Value\",\n      data: chart.data\n    }];\n\n    this.drawChart(chart, series, options);\n  }\n\n  renderColumnChart(chart, chartType) {\n    chartType = chartType || \"column\";\n    let series = chart.data;\n    let options = jsOptions(chart, chart.options), i, j, s, d, rows = [], categories = [];\n    options.chart.type = chartType;\n    setFormatOptions(chart, options, chartType);\n\n    for (i = 0; i < series.length; i++) {\n      s = series[i];\n\n      for (j = 0; j < s.data.length; j++) {\n        d = s.data[j];\n        if (!rows[d[0]]) {\n          rows[d[0]] = new Array(series.length);\n          categories.push(d[0]);\n        }\n        rows[d[0]][i] = d[1];\n      }\n    }\n\n    if (chart.options.xtype === \"number\") {\n      categories.sort(sortByNumber);\n    }\n\n    options.xAxis.categories = categories;\n\n    let newSeries = [], d2;\n    for (i = 0; i < series.length; i++) {\n      d = [];\n      for (j = 0; j < categories.length; j++) {\n        d.push(rows[categories[j]][i] || 0);\n      }\n\n      d2 = {\n        name: series[i].name,\n        data: d\n      };\n      if (series[i].stack) {\n        d2.stack = series[i].stack;\n      }\n\n      newSeries.push(d2);\n    }\n\n    this.drawChart(chart, newSeries, options);\n  }\n\n  renderBarChart(chart) {\n    this.renderColumnChart(chart, \"bar\");\n  }\n\n  renderAreaChart(chart) {\n    this.renderLineChart(chart, \"areaspline\");\n  }\n\n  destroy(chart) {\n    if (chart.chart) {\n      chart.chart.destroy();\n    }\n  }\n\n  drawChart(chart, data, options) {\n    this.destroy(chart);\n\n    options.chart.renderTo = chart.element.id;\n    options.series = data;\n\n    if (chart.options.eject) {\n      chart.element.innerText = \"new Highcharts.Chart(\" + JSON.stringify(options) + \");\";\n    } else {\n      chart.chart = new this.library.Chart(options);\n    }\n  }\n}\n","import { jsOptionsFunc, merge, toStr, toFloat, sortByTime, sortByNumberSeries, isDay } from \"../helpers\";\n\nlet loaded = {};\nlet callbacks = [];\n\n// Set chart options\nlet defaultOptions = {\n  chartArea: {},\n  fontName: \"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif\",\n  pointSize: 6,\n  legend: {\n    textStyle: {\n      fontSize: 12,\n      color: \"#444\"\n    },\n    alignment: \"center\",\n    position: \"right\"\n  },\n  curveType: \"function\",\n  hAxis: {\n    textStyle: {\n      color: \"#666\",\n      fontSize: 12\n    },\n    titleTextStyle: {},\n    gridlines: {\n      color: \"transparent\"\n    },\n    baselineColor: \"#ccc\",\n    viewWindow: {}\n  },\n  vAxis: {\n    textStyle: {\n      color: \"#666\",\n      fontSize: 12\n    },\n    titleTextStyle: {},\n    baselineColor: \"#ccc\",\n    viewWindow: {}\n  },\n  tooltip: {\n    textStyle: {\n      color: \"#666\",\n      fontSize: 12\n    }\n  }\n};\n\nlet hideLegend = function (options, legend, hideLegend) {\n  if (legend !== undefined) {\n    let position;\n    if (!legend) {\n      position = \"none\";\n    } else if (legend === true) {\n      position = \"right\";\n    } else {\n      position = legend;\n    }\n    options.legend.position = position;\n  } else if (hideLegend) {\n    options.legend.position = \"none\";\n  }\n};\n\nlet setTitle = function (options, title) {\n  options.title = title;\n  options.titleTextStyle = {color: \"#333\", fontSize: \"20px\"};\n};\n\nlet setMin = function (options, min) {\n  options.vAxis.viewWindow.min = min;\n};\n\nlet setMax = function (options, max) {\n  options.vAxis.viewWindow.max = max;\n};\n\nlet setBarMin = function (options, min) {\n  options.hAxis.viewWindow.min = min;\n};\n\nlet setBarMax = function (options, max) {\n  options.hAxis.viewWindow.max = max;\n};\n\nlet setStacked = function (options, stacked) {\n  options.isStacked = stacked ? stacked : false;\n};\n\nlet setXtitle = function (options, title) {\n  options.hAxis.title = title;\n  options.hAxis.titleTextStyle.italic = false;\n};\n\nlet setYtitle = function (options, title) {\n  options.vAxis.title = title;\n  options.vAxis.titleTextStyle.italic = false;\n};\n\nlet jsOptions = jsOptionsFunc(defaultOptions, hideLegend, setTitle, setMin, setMax, setStacked, setXtitle, setYtitle);\n\nlet resize = function (callback) {\n  if (window.attachEvent) {\n    window.attachEvent(\"onresize\", callback);\n  } else if (window.addEventListener) {\n    window.addEventListener(\"resize\", callback, true);\n  }\n  callback();\n};\n\nexport default class {\n  constructor(library) {\n    this.name = \"google\";\n    this.library = library;\n  }\n\n  renderLineChart(chart) {\n    this.waitForLoaded(chart, () => {\n      let chartOptions = {};\n\n      if (chart.options.curve === false) {\n        chartOptions.curveType = \"none\";\n      }\n\n      if (chart.options.points === false) {\n        chartOptions.pointSize = 0;\n      }\n\n      let options = jsOptions(chart, chart.options, chartOptions);\n      let columnType = chart.discrete ? \"string\" : \"datetime\";\n      if (chart.options.xtype === \"number\") {\n        columnType = \"number\";\n      }\n      let data = this.createDataTable(chart.data, columnType);\n\n      this.drawChart(chart, \"LineChart\", data, options);\n    });\n  }\n\n  renderPieChart(chart) {\n    this.waitForLoaded(chart, () => {\n      let chartOptions = {\n        chartArea: {\n          top: \"10%\",\n          height: \"80%\"\n        },\n        legend: {}\n      };\n      if (chart.options.colors) {\n        chartOptions.colors = chart.options.colors;\n      }\n      if (chart.options.donut) {\n        chartOptions.pieHole = 0.5;\n      }\n      if (\"legend\" in chart.options) {\n        hideLegend(chartOptions, chart.options.legend);\n      }\n      if (chart.options.title) {\n        setTitle(chartOptions, chart.options.title);\n      }\n      let options = merge(merge(defaultOptions, chartOptions), chart.options.library || {});\n\n      let data = new this.library.visualization.DataTable();\n      data.addColumn(\"string\", \"\");\n      data.addColumn(\"number\", \"Value\");\n      data.addRows(chart.data);\n\n      this.drawChart(chart, \"PieChart\", data, options);\n    });\n  }\n\n  renderColumnChart(chart) {\n    this.waitForLoaded(chart, () => {\n      let options = jsOptions(chart, chart.options);\n      let data = this.createDataTable(chart.data, \"string\", chart.options.xtype);\n\n      this.drawChart(chart, \"ColumnChart\", data, options);\n    });\n  }\n\n  renderBarChart(chart) {\n    this.waitForLoaded(chart, () => {\n      let chartOptions = {\n        hAxis: {\n          gridlines: {\n            color: \"#ccc\"\n          }\n        }\n      };\n      let options = jsOptionsFunc(defaultOptions, hideLegend, setTitle, setBarMin, setBarMax, setStacked, setXtitle, setYtitle)(chart, chart.options, chartOptions);\n      let data = this.createDataTable(chart.data, \"string\", chart.options.xtype);\n\n      this.drawChart(chart, \"BarChart\", data, options);\n    });\n  }\n\n  renderAreaChart(chart) {\n    this.waitForLoaded(chart, () => {\n      let chartOptions = {\n        isStacked: true,\n        pointSize: 0,\n        areaOpacity: 0.5\n      };\n\n      let options = jsOptions(chart, chart.options, chartOptions);\n      let columnType = chart.discrete ? \"string\" : \"datetime\";\n      if (chart.options.xtype === \"number\") {\n        columnType = \"number\";\n      }\n      let data = this.createDataTable(chart.data, columnType);\n\n      this.drawChart(chart, \"AreaChart\", data, options);\n    });\n  }\n\n  renderGeoChart(chart) {\n    this.waitForLoaded(chart, () => {\n      let chartOptions = {\n        legend: \"none\",\n        colorAxis: {\n          colors: chart.options.colors || [\"#f6c7b6\", \"#ce502d\"]\n        }\n      };\n      let options = merge(merge(defaultOptions, chartOptions), chart.options.library || {});\n\n      let data = new this.library.visualization.DataTable();\n      data.addColumn(\"string\", \"\");\n      data.addColumn(\"number\", chart.options.label || \"Value\");\n      data.addRows(chart.data);\n\n      this.drawChart(chart, \"GeoChart\", data, options);\n    });\n  }\n\n  renderScatterChart(chart) {\n    this.waitForLoaded(chart, () => {\n      let chartOptions = {};\n      let options = jsOptions(chart, chart.options, chartOptions);\n\n      let series = chart.data, rows2 = [], i, j, data, d;\n      for (i = 0; i < series.length; i++) {\n        d = series[i].data;\n        for (j = 0; j < d.length; j++) {\n          let row = new Array(series.length + 1);\n          row[0] = d[j][0];\n          row[i + 1] = d[j][1];\n          rows2.push(row);\n        }\n      }\n\n      data = new this.library.visualization.DataTable();\n      data.addColumn(\"number\", \"\");\n      for (i = 0; i < series.length; i++) {\n        data.addColumn(\"number\", series[i].name);\n      }\n      data.addRows(rows2);\n\n      this.drawChart(chart, \"ScatterChart\", data, options);\n    });\n  }\n\n  renderTimeline(chart) {\n    this.waitForLoaded(chart, \"timeline\", () => {\n      let chartOptions = {\n        legend: \"none\"\n      };\n\n      if (chart.options.colors) {\n        chartOptions.colors = chart.options.colors;\n      }\n      let options = merge(merge(defaultOptions, chartOptions), chart.options.library || {});\n\n      let data = new this.library.visualization.DataTable();\n      data.addColumn({type: \"string\", id: \"Name\"});\n      data.addColumn({type: \"date\", id: \"Start\"});\n      data.addColumn({type: \"date\", id: \"End\"});\n      data.addRows(chart.data);\n\n      chart.element.style.lineHeight = \"normal\";\n\n      this.drawChart(chart, \"Timeline\", data, options);\n    });\n  }\n\n  renderComboChart(chart) {\n    this.waitForLoaded(chart, () => {\n      let chartOptions = {\n        legend: \"none\",\n        colorAxis: {\n          colors: chart.options.colors || [\"#f6c7b6\", \"#ce502d\"]\n        },\n        vAxes: {\n          0: {\n            viewWindowMode:\"explicit\",\n            gridlines: {color: \"transparent\"},\n          },\n          1: {\n            gridlines: {color: \"transparent\"},\n            viewWindow: {\n              max:100,\n              min:0\n            },\n            format: \"#.#'%'\"\n\n          },\n        },\n        seriesType: \"bars\",\n        series: {\n          0: {\n            targetAxisIndex:0\n          },\n          1:  {\n            targetAxisIndex:1,\n            type: \"line\"\n          },\n        }\n      };\n\n      let options = merge(merge(defaultOptions, chartOptions), chart.options.library || {});      \n      let data = this.library.visualization.arrayToDataTable(chart.data);\n\n      this.drawChart(chart, \"ComboChart\", data, options);\n    });\n  }\n\n  destroy(chart) {\n    if (chart.chart) {\n      chart.chart.clearChart();\n    }\n  }\n\n  drawChart(chart, type, data, options) {\n    this.destroy(chart);\n    \n    if (chart.options.eject) {\n      chart.element.innerText = \"var data = new google.visualization.DataTable(\" + data.toJSON() + \");\\nvar chart = new google.visualization.\" + type + \"(element);\\nchart.draw(data, \" + JSON.stringify(options) + \");\";\n    } else {\n      chart.chart = new this.library.visualization[type](chart.element);\n      resize(function () {\n        chart.chart.draw(data, options);\n      });\n    }\n  }\n\n  waitForLoaded(chart, pack, callback) {\n    if (!callback) {\n      callback = pack;\n      pack = \"corechart\";\n    }\n\n    callbacks.push({pack: pack, callback: callback});\n\n    if (loaded[pack]) {\n      this.runCallbacks();\n    } else {\n      loaded[pack] = true;\n\n      // https://groups.google.com/forum/#!topic/google-visualization-api/fMKJcyA2yyI\n      let loadOptions = {\n        packages: [pack],\n        callback: () => { this.runCallbacks(); }\n      };\n      let config = chart.__config();\n      if (config.language) {\n        loadOptions.language = config.language;\n      }\n      if (pack === \"corechart\" && config.mapsApiKey) {\n        loadOptions.mapsApiKey = config.mapsApiKey;\n      }\n\n      if (this.library.setOnLoadCallback) {\n        this.library.load(\"visualization\", \"1\", loadOptions);\n      } else {\n        this.library.charts.load(\"current\", loadOptions);\n      }\n    }\n  }\n\n  runCallbacks() {\n    let cb, call;\n    for (let i = 0; i < callbacks.length; i++) {\n      cb = callbacks[i];\n      call = this.library.visualization && ((cb.pack === \"corechart\" && this.library.visualization.LineChart) || (cb.pack === \"timeline\" && this.library.visualization.Timeline));\n      if (call) {\n        cb.callback();\n        callbacks.splice(i, 1);\n        i--;\n      }\n    }\n  }\n\n  // cant use object as key\n  createDataTable(series, columnType, xtype) {\n    let i, j, s, d, key, rows = [], sortedLabels = [];\n    for (i = 0; i < series.length; i++) {\n      s = series[i];\n\n      for (j = 0; j < s.data.length; j++) {\n        d = s.data[j];\n        key = (columnType === \"datetime\") ? d[0].getTime() : d[0];\n        if (!rows[key]) {\n          rows[key] = new Array(series.length);\n          sortedLabels.push(key);\n        }\n        rows[key][i] = toFloat(d[1]);\n      }\n    }\n\n    let rows2 = [];\n    let day = true;\n    let value;\n    for (j = 0; j < sortedLabels.length; j++) {\n      i = sortedLabels[j];\n      if (columnType === \"datetime\") {\n        value = new Date(toFloat(i));\n        day = day && isDay(value);\n      } else if (columnType === \"number\") {\n        value = toFloat(i);\n      } else {\n        value = i;\n      }\n      rows2.push([value].concat(rows[i]));\n    }\n    if (columnType === \"datetime\") {\n      rows2.sort(sortByTime);\n    } else if (columnType === \"number\") {\n      rows2.sort(sortByNumberSeries);\n    }\n\n    if (xtype === \"number\") {\n      rows2.sort(sortByNumberSeries);\n\n      for (i = 0; i < rows2.length; i++) {\n        rows2[i][0] = toStr(rows2[i][0]);\n      }\n    }\n\n    // create datatable\n    let data = new this.library.visualization.DataTable();\n    columnType = columnType === \"datetime\" && day ? \"date\" : columnType;\n    data.addColumn(columnType, \"\");\n    for (i = 0; i < series.length; i++) {\n      data.addColumn(\"number\", series[i].name);\n    }\n    data.addRows(rows2);\n\n    return data;\n  }\n}\n","let pendingRequests = [], runningRequests = 0, maxRequests = 4;\n\nfunction pushRequest(url, success, error) {\n  pendingRequests.push([url, success, error]);\n  runNext();\n}\n\nfunction runNext() {\n  if (runningRequests < maxRequests) {\n    let request = pendingRequests.shift();\n    if (request) {\n      runningRequests++;\n      getJSON(request[0], request[1], request[2]);\n      runNext();\n    }\n  }\n}\n\nfunction requestComplete() {\n  runningRequests--;\n  runNext();\n}\n\nfunction getJSON(url, success, error) {\n  ajaxCall(url, success, function (jqXHR, textStatus, errorThrown) {\n    let message = (typeof errorThrown === \"string\") ? errorThrown : errorThrown.message;\n    error(message);\n  });\n}\n\nfunction ajaxCall(url, success, error) {\n  let $ = window.jQuery || window.Zepto || window.$;\n\n  if ($) {\n    $.ajax({\n      dataType: \"json\",\n      url: url,\n      success: success,\n      error: error,\n      complete: requestComplete\n    });\n  } else {\n    let xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", url, true);\n    xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n    xhr.onload = function () {\n      requestComplete();\n      if (xhr.status === 200) {\n        success(JSON.parse(xhr.responseText), xhr.statusText, xhr);\n      } else {\n        error(xhr, \"error\", xhr.statusText);\n      }\n    };\n    xhr.send();\n  }\n}\n\nexport { pushRequest };\n","import ChartjsAdapter from \"./adapters/chartjs\";\nimport HighchartsAdapter from \"./adapters/highcharts\";\nimport GoogleChartsAdapter from \"./adapters/google\";\n\nimport { merge, isFunction, isArray, toStr, toFloat, toDate, toArr, sortByTime, sortByNumberSeries, isDate } from \"./helpers\";\nimport { pushRequest } from \"./request-queue\";\n\nlet config = (typeof window !== \"undefined\" && window.Chartkick) || {};\nlet adapters = [];\n\n// helpers\n\nfunction setText(element, text) {\n  if (document.body.innerText) {\n    element.innerText = text;\n  } else {\n    element.textContent = text;\n  }\n}\n\nfunction chartError(element, message) {\n  setText(element, \"Error Loading Chart: \" + message);\n  element.style.color = \"#ff0000\";\n}\n\nfunction errorCatcher(chart) {\n  try {\n    chart.__render();\n  } catch (err) {\n    chartError(chart.element, err.message);\n    throw err;\n  }\n}\n\nfunction fetchDataSource(chart, dataSource) {\n  if (typeof dataSource === \"string\") {\n    pushRequest(dataSource, function (data) {\n      chart.rawData = data;\n      errorCatcher(chart);\n    }, function (message) {\n      chartError(chart.element, message);\n    });\n  } else {\n    chart.rawData = dataSource;\n    errorCatcher(chart);\n  }\n}\n\nfunction addDownloadButton(chart) {\n  let element = chart.element;\n  let link = document.createElement(\"a\");\n  link.download = chart.options.download === true ? \"chart.png\" : chart.options.download; // http://caniuse.com/download\n  link.style.position = \"absolute\";\n  link.style.top = \"20px\";\n  link.style.right = \"20px\";\n  link.style.zIndex = 1000;\n  link.style.lineHeight = \"20px\";\n  link.target = \"_blank\"; // for safari\n  let image = document.createElement(\"img\");\n  image.alt = \"Download\";\n  image.style.border = \"none\";\n  // icon from font-awesome\n  // http://fa2png.io/\n  image.src = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABCFBMVEUAAADMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMywEsqxAAAAV3RSTlMAAQIDBggJCgsMDQ4PERQaHB0eISIjJCouLzE0OTo/QUJHSUpLTU5PUllhYmltcHh5foWLjI+SlaCio6atr7S1t7m6vsHHyM7R2tze5Obo7fHz9ff5+/1hlxK2AAAA30lEQVQYGUXBhVYCQQBA0TdYWAt2d3d3YWAHyur7/z9xgD16Lw0DW+XKx+1GgX+FRzM3HWQWrHl5N/oapW5RPe0PkBu+UYeICvozTWZVK23Ao04B79oJrOsJDOoxkZoQPWgX29pHpCZEk7rEvQYiNSFq1UMqvlCjJkRBS1R8hb00Vb/TajtBL7nTHE1X1vyMQF732dQhyF2o6SAwrzP06iUQzvwsArlnzcOdrgBhJyHa1QOgO9U1GsKuvjUTjavliZYQ8nNPapG6sap/3nrIdJ6bOWzmX/fy0XVpfzZP3S8OJT3g9EEiJwAAAABJRU5ErkJggg==\";\n  link.appendChild(image);\n  element.style.position = \"relative\";\n\n  chart.__downloadAttached = true;\n\n  // mouseenter\n  chart.__enterEvent = addEvent(element, \"mouseover\", function(e) {\n    let related = e.relatedTarget;\n    // check download option again to ensure it wasn't changed\n    if ((!related || (related !== this && !childOf(this, related))) && chart.options.download) {\n      link.href = chart.toImage();\n      element.appendChild(link);\n    }\n  });\n\n  // mouseleave\n  chart.__leaveEvent = addEvent(element, \"mouseout\", function(e) {\n    let related = e.relatedTarget;\n    if (!related || (related !== this && !childOf(this, related))) {\n      if (link.parentNode) {\n        link.parentNode.removeChild(link);\n      }\n    }\n  });\n}\n\n// http://stackoverflow.com/questions/10149963/adding-event-listener-cross-browser\nfunction addEvent(elem, event, fn) {\n  if (elem.addEventListener) {\n    elem.addEventListener(event, fn, false);\n    return fn;\n  } else {\n    let fn2 = function() {\n      // set the this pointer same as addEventListener when fn is called\n      return(fn.call(elem, window.event));\n    };\n    elem.attachEvent(\"on\" + event, fn2);\n    return fn2;\n  }\n}\n\nfunction removeEvent(elem, event, fn) {\n  if (elem.removeEventListener) {\n    elem.removeEventListener(event, fn, false);\n  } else {\n    elem.detachEvent(\"on\" + event, fn);\n  }\n}\n\n// https://gist.github.com/shawnbot/4166283\nfunction childOf(p, c) {\n  if (p === c) return false;\n  while (c && c !== p) c = c.parentNode;\n  return c === p;\n}\n\nfunction getAdapterType(library) {\n  if (library) {\n    if (library.product === \"Highcharts\") {\n      return HighchartsAdapter;\n    } else if (library.setOnLoadCallback || library.charts) {\n      return GoogleChartsAdapter;\n    } else if (isFunction(library)) {\n      return ChartjsAdapter;\n    }\n  }\n  throw new Error(\"Unknown adapter\");\n}\n\nfunction addAdapter(library) {\n  let adapterType = getAdapterType(library);\n  let adapter = new adapterType(library);\n\n  if (adapters.indexOf(adapter) === -1) {\n    adapters.push(adapter);\n  }\n}\n\nfunction loadAdapters() {\n  if (\"Chart\" in window) {\n    addAdapter(window.Chart);\n  }\n\n  if (\"Highcharts\" in window) {\n    addAdapter(window.Highcharts);\n  }\n\n  if (window.google && (window.google.setOnLoadCallback || window.google.charts)) {\n    addAdapter(window.google);\n  }\n}\n\nfunction dataEmpty(data, chartType) {\n  if (chartType === \"PieChart\" || chartType === \"GeoChart\" || chartType === \"Timeline\") {\n    return data.length === 0;\n  } else {\n    for (let i = 0; i < data.length; i++) {\n      if (data[i].data.length > 0) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n\nfunction renderChart(chartType, chart) {\n  if (chart.options.messages && chart.options.messages.empty && dataEmpty(chart.data, chartType)) {\n    setText(chart.element, chart.options.messages.empty);\n  } else {\n    callAdapter(chartType, chart);\n    if (chart.options.download && !chart.__downloadAttached && chart.adapter === \"chartjs\" && !chart.options.eject) {\n      addDownloadButton(chart);\n    }\n  }\n}\n\n// TODO remove chartType if cross-browser way\n// to get the name of the chart class\nfunction callAdapter(chartType, chart) {\n  let i, adapter, fnName, adapterName;\n  fnName = \"render\" + chartType;\n  adapterName = chart.options.adapter;\n\n  loadAdapters();\n\n  for (i = 0; i < adapters.length; i++) {\n    adapter = adapters[i];\n    if ((!adapterName || adapterName === adapter.name) && isFunction(adapter[fnName])) {\n      chart.adapter = adapter.name;\n      chart.__adapterObject = adapter;\n      return adapter[fnName](chart);\n    }\n  }\n\n  if (adapters.length > 0) {\n    throw new Error(\"No charting library found for \" + chartType);\n  } else {\n    throw new Error(\"No charting libraries found - be sure to include one before your charts\");\n  }\n}\n\n// process data\n\nlet toFormattedKey = function (key, keyType) {\n  if (keyType === \"number\") {\n    key = toFloat(key);\n  } else if (keyType === \"datetime\") {\n    key = toDate(key);\n  } else {\n    key = toStr(key);\n  }\n  return key;\n};\n\nlet formatSeriesData = function (data, keyType) {\n  let r = [], key, j;\n  for (j = 0; j < data.length; j++) {\n    if (keyType === \"bubble\") {\n      r.push([toFloat(data[j][0]), toFloat(data[j][1]), toFloat(data[j][2])]);\n    } else {\n      key = toFormattedKey(data[j][0], keyType);\n      r.push([key, toFloat(data[j][1])]);\n    }\n  }\n  if (keyType === \"datetime\") {\n    r.sort(sortByTime);\n  } else if (keyType === \"number\") {\n    r.sort(sortByNumberSeries);\n  }\n  return r;\n};\n\nlet formatColumnData = function (data) {\n  let parsedData = [];\n\n  Object.keys(data).forEach(key => {\n    if(isDate(data[key])) {\n      parsedData.push(toDate(data[key]));\n    } else {\n      parsedData.push(toFloat(data[key]));\n    }\n  });\n\n  return parsedData;\n};\n\nfunction detectDiscrete(series) {\n  let i, j, data;\n  for (i = 0; i < series.length; i++) {\n    data = toArr(series[i].data);\n    for (j = 0; j < data.length; j++) {\n      if (!isDate(data[j][0])) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\n// creates a shallow copy of each element of the array\n// elements are expected to be objects\nfunction copySeries(series) {\n  let newSeries = [], i, j;\n  for (i = 0; i < series.length; i++) {\n    let copy = {};\n    for (j in series[i]) {\n      if (series[i].hasOwnProperty(j)) {\n        copy[j] = series[i][j];\n      }\n    }\n    newSeries.push(copy);\n  }\n  return newSeries;\n}\n\nfunction processSeries(chart, keyType) {\n  let i;\n\n  let opts = chart.options;\n  let series = chart.rawData;\n\n  // see if one series or multiple\n  if (!isArray(series) || typeof series[0] !== \"object\" || isArray(series[0])) {\n    series = [{name: opts.label || \"Value\", data: series}];\n    chart.hideLegend = true;\n  } else {\n    chart.hideLegend = false;\n  }\n  if ((opts.discrete === null || opts.discrete === undefined) && keyType !== \"bubble\" && keyType !== \"number\") {\n    chart.discrete = detectDiscrete(series);\n  } else {\n    chart.discrete = opts.discrete;\n  }\n  if (chart.discrete) {\n    keyType = \"string\";\n  }\n  if (chart.options.xtype) {\n    keyType = chart.options.xtype;\n  }\n\n  // right format\n  series = copySeries(series);\n  for (i = 0; i < series.length; i++) {\n    series[i].data = formatSeriesData(toArr(series[i].data), keyType);\n  }\n\n  return series;\n}\n\nfunction processSimple(chart) {\n  let perfectData = toArr(chart.rawData), i;\n  for (i = 0; i < perfectData.length; i++) {\n    perfectData[i] = [toStr(perfectData[i][0]), toFloat(perfectData[i][1])];\n  }\n  return perfectData;\n}\n\nfunction processCombo(chart) {\n  let perfectData = toArr(chart.rawData), i;\n\n  for (i = 0; i < perfectData.length; i++) {\n    if(i === 0) {\n      let keyList = [];\n\n      Object.keys(perfectData[0]).forEach(key => {\n        keyList.push(key);\n      });  \n\n      perfectData.unshift(keyList);\n      i++;\n    }\n\n    perfectData[i] = formatColumnData(perfectData[i]);\n  }\n\n  return perfectData;\n}\n\n// define classes\n\nclass Chart {\n  constructor(element, dataSource, options) {\n    let elementId;\n    if (typeof element === \"string\") {\n      elementId = element;\n      element = document.getElementById(element);\n      if (!element) {\n        throw new Error(\"No element with id \" + elementId);\n      }\n    }\n    this.element = element;\n    this.options = merge(Chartkick.options, options || {});\n    this.dataSource = dataSource;\n\n    Chartkick.charts[element.id] = this;\n\n    fetchDataSource(this, dataSource);\n\n    if (this.options.refresh) {\n      this.startRefresh();\n    }\n  }\n\n  getElement() {\n    return this.element;\n  }\n\n  getDataSource() {\n    return this.dataSource;\n  }\n\n  getData() {\n    return this.data;\n  }\n\n  getOptions() {\n    return this.options;\n  }\n\n  getChartObject() {\n    return this.chart;\n  }\n\n  getAdapter() {\n    return this.adapter;\n  }\n\n  updateData(dataSource, options) {\n    this.dataSource = dataSource;\n    if (options) {\n      this.__updateOptions(options);\n    }\n    fetchDataSource(this, dataSource);\n  }\n\n  setOptions(options) {\n    this.__updateOptions(options);\n    this.redraw();\n  }\n\n  redraw() {\n    fetchDataSource(this, this.rawData);\n  }\n\n  refreshData() {\n    if (typeof this.dataSource === \"string\") {\n      // prevent browser from caching\n      let sep = this.dataSource.indexOf(\"?\") === -1 ? \"?\" : \"&\";\n      let url = this.dataSource + sep + \"_=\" + (new Date()).getTime();\n      fetchDataSource(this, url);\n    }\n  }\n\n  startRefresh() {\n    let refresh = this.options.refresh;\n\n    if (!this.intervalId) {\n      if (refresh) {\n        this.intervalId = setInterval( () => {\n          this.refreshData();\n        }, refresh * 1000);\n      } else {\n        throw new Error(\"No refresh interval\");\n      }\n    }\n  }\n\n  stopRefresh() {\n    if (this.intervalId) {\n      clearInterval(this.intervalId);\n      this.intervalId = null;\n    }\n  }\n\n  toImage() {\n    if (this.adapter === \"chartjs\") {\n      return this.chart.toBase64Image();\n    } else {\n      return null;\n    }\n  }\n\n  destroy() {\n    if (this.__adapterObject) {\n      this.__adapterObject.destroy(this);\n    }\n\n    if (this.__enterEvent) {\n      removeEvent(this.element, \"mouseover\", this.__enterEvent);\n    }\n\n    if (this.__leaveEvent) {\n      removeEvent(this.element, \"mouseout\", this.__leaveEvent);\n    }\n  }\n\n  __updateOptions(options) {\n    let updateRefresh = options.refresh && options.refresh !== this.options.refresh;\n    this.options = merge(Chartkick.options, options);\n    if (updateRefresh) {\n      this.stopRefresh();\n      this.startRefresh();\n    }\n  }\n\n  __render() {\n    this.data = this.__processData();\n    renderChart(this.__chartName(), this);\n  }\n\n  __config() {\n    return config;\n  }\n}\n\nclass LineChart extends Chart {\n  __processData() {\n    return processSeries(this, \"datetime\");\n  }\n\n  __chartName() {\n    return \"LineChart\";\n  }\n}\n\nclass PieChart extends Chart {\n  __processData() {\n    return processSimple(this);\n  }\n\n  __chartName() {\n    return \"PieChart\";\n  }\n}\n\nclass ColumnChart extends Chart {\n  __processData() {\n    return processSeries(this, \"string\");\n  }\n\n  __chartName() {\n    return \"ColumnChart\";\n  }\n}\n\nclass BarChart extends Chart {\n  __processData() {\n    return processSeries(this, \"string\");\n  }\n\n  __chartName() {\n    return \"BarChart\";\n  }\n}\n\nclass AreaChart extends Chart {\n  __processData() {\n    return processSeries(this, \"datetime\");\n  }\n\n  __chartName() {\n    return \"AreaChart\";\n  }\n}\n\nclass GeoChart extends Chart {\n  __processData() {\n    return processSimple(this);\n  }\n\n  __chartName() {\n    return \"GeoChart\";\n  }\n}\n\nclass ScatterChart extends Chart {\n  __processData() {\n    return processSeries(this, \"number\");\n  }\n\n  __chartName() {\n    return \"ScatterChart\";\n  }\n}\n\nclass BubbleChart extends Chart {\n  __processData() {\n    return processSeries(this, \"bubble\");\n  }\n\n  __chartName() {\n    return \"BubbleChart\";\n  }\n}\n\nclass Timeline extends Chart {\n  __processData() {\n    let i, data = this.rawData;\n    for (i = 0; i < data.length; i++) {\n      data[i][1] = toDate(data[i][1]);\n      data[i][2] = toDate(data[i][2]);\n    }\n    return data;\n  }\n\n  __chartName() {\n    return \"Timeline\";\n  }\n}\n\nclass ComboChart extends Chart {\n  __processData() {\n    return processCombo(this);\n  }\n\n  __chartName() {\n    return \"ComboChart\";\n  }\n}\n\nclass PolarChart extends Chart {\n  __processData() {\n    return processSeries(this, \"polar\");\n  }\n\n  __chartName() {\n    return \"PolarChart\";\n  }\n}\n\nconst Chartkick = {\n  LineChart: LineChart,\n  PieChart: PieChart,\n  ColumnChart: ColumnChart,\n  BarChart: BarChart,\n  AreaChart: AreaChart,\n  GeoChart: GeoChart,\n  ScatterChart: ScatterChart,\n  BubbleChart: BubbleChart,\n  Timeline: Timeline,\n  ComboChart: ComboChart,\n  PolarChart: PolarChart,\n  charts: {},\n  configure: function (options) {\n    for (let key in options) {\n      if (options.hasOwnProperty(key)) {\n        config[key] = options[key];\n      }\n    }\n  },\n  eachChart: function (callback) {\n    for (let chartId in Chartkick.charts) {\n      if (Chartkick.charts.hasOwnProperty(chartId)) {\n        callback(Chartkick.charts[chartId]);\n      }\n    }\n  },\n  config: config,\n  options: {},\n  adapters: adapters,\n  addAdapter: addAdapter\n};\n\nexport default Chartkick;\n"],"names":["let","defaultOptions","hideLegend","setTitle","setMin","setMax","setStacked","setXtitle","setYtitle","jsOptions","setFormatOptions","defaultExport","setBarMin","setBarMax","this","HighchartsAdapter","GoogleChartsAdapter","ChartjsAdapter","const"],"mappings":"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"}